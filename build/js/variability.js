"use strict";var width=300,height=200,marginBottom=50,chartColor="rgb(66, 170, 143)",font="Didact Gothic",fontSize="10",bgcolor="white",loading=0;
"use strict";function drawCharts(t){drawPriceChart(setDate(t,"ether"),"#ether",width,height,"Euro"),drawPriceChart(setDate(t,"bitcoin"),"#bitcoin",width,height,"$"),drawPriceChart(setDate(t,"litecoin"),"#litecoin",width,height,"Euro"),drawVarPriceChart(setDate(t,"ether"),"#ether-var",width,height,"Euro"),drawVarPriceChart(setDate(t,"bitcoin"),"#bitcoin-var",width,height,"$"),drawVarPriceChart(setDate(t,"litecoin"),"#litecoin-var",width,height,"Euro")}alldata();
"use strict";function drawCharts(t){drawPriceChart(setDate(t,"ether"),"#ether",width,height,"Euro"),drawPriceChart(setDate(t,"bitcoin"),"#bitcoin",width,height,"$"),drawPriceChart(setDate(t,"litecoin"),"#litecoin",width,height,"Euro"),drawVarPriceChart(setDate(t,"ether"),"#ether-var",width,height,"Euro"),drawVarPriceChart(setDate(t,"bitcoin"),"#bitcoin-var",width,height,"$"),drawVarPriceChart(setDate(t,"litecoin"),"#litecoin-var",width,height,"Euro")}
"use strict";function drawPriceChart(t,e,n,r,a){queue().defer(d3.csv,t).await(function(t,o){loading++,progress(loading),console.log(loading),t&&console.log(t);var i,l,c,s,g=e.substr(1);g.toString(),document.getElementById(g).innerHTML="<p>".concat(o[0].High," ").concat(a," </p>"),i=d3.max(o,function(t){return+t.High}),l=d3.min(o,function(t){return+t.High}),c=d3.min(o,function(t){return t.Date}),s=d3.max(o,function(t){return t.Date});var d=d3.time.scale().domain([new Date(c),new Date(s)]).range([10,n-41]),u=d3.svg.axis().scale(d),f=d3.scale.linear().domain([0,i-l]).range([0,r-10-marginBottom]);if(h){var m=h.select(e);m.exit().remove(),console.log("there is svg")}var h=d3.select(e).append("svg").attr("width",n).attr("height",r).style("background-color",bgcolor).append("g");d3.transition().duration(4500);console.log(o.length),h.selectAll("rect").data(o).enter().append("rect").attr("x",function(t,e){return n-n/o.length-e*((n-50)/o.length)}).attr("y",function(t){return r-marginBottom-f(t.High-l)}).attr("height",function(t){return f(t.High-l)}).attr("width",function(t){return n/o.length}).style("fill","white").append("svg:title").text(function(t){return"Date: ".concat(t.Date," Price: ").concat(t.High)}).append("g"),h.selectAll("rect").transition().duration(1500).style("fill",chartColor),h.selectAll("text").data(o).enter().append("text").text(function(t,e){return parseInt(l+.1*e*(i-l))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,e){return r-marginBottom-fontSize+parseInt(fontSize)-e*((r-marginBottom-fontSize)/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black");var p=r-marginBottom;h.append("g").attr("class","x axis").attr("transform","translate(40,"+p+")").call(u).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").attr("font-size",fontSize).style("text-anchor","start")})}
"use strict";function drawVarPriceChart(t,n,e,r,a){queue().defer(d3.csv,t).await(function(t,o){loading++,progress(loading),console.log(loading),t&&console.log(t);var i,c,l,d,s=n.substr(1);s.toString(),document.getElementById(s).innerHTML="<p>".concat(o[0].Open," ").concat(a," </p>"),i=d3.max(o,function(t){return+t.High-t.Low}),c=d3.min(o,function(t){return+t.High-t.Low});var u=d3.mean(o,function(t){return+t.High-t.Low});l=d3.min(o,function(t){return t.Date}),d=d3.max(o,function(t){return t.Date}),u=u.toFixed(0),i=i.toFixed(0),document.getElementById(s).innerHTML=" <p> Max: ".concat(i," Average: ").concat(u," ").concat(a," </p>");var g=d3.time.scale().domain([new Date(l),new Date(d)]).range([10,e-41]),f=d3.svg.axis().scale(g),m=d3.scale.linear().domain([0,i-c]).range([0,r-10-marginBottom]),h=d3.select(n).append("svg").attr("width",e).attr("height",r).style("background-color",bgcolor);h.selectAll("rect").data(o).enter().append("rect").attr("x",function(t,n){return e+0-e/o.length-n*((e-50)/o.length)}).attr("y",function(t){return r-marginBottom-m(t.High-t.Low)}).attr("height",function(t){return m(t.High-t.Low)}).attr("width",function(t){return e/o.length}).style("fill","white"),h.selectAll("rect").transition().duration(1500).style("fill",chartColor).transition().duration(3e3).style("fill",function(t){return t.High-t.Low>u?"orange":chartColor}),h.selectAll("text").data(o).enter().append("text").text(function(t,n){return parseInt(c+.1*n*(i-c))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,n){return r-marginBottom-n*((r-marginBottom-fontSize)/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black");var x=r-marginBottom;h.append("g").attr("class","x axis").attr("transform","translate(40,"+x+")").call(f).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").attr("font-size",fontSize).style("text-anchor","start")})}
"use strict";function progress(e){document.getElementById("progress").innerHTML="Loading data: "+(e/6*100).toFixed(0)+"%",document.getElementById("progress").style.width=e/6*100+"%",document.getElementById("progress-bar").style.display=6==e||0==e?"none":"block"}
"use strict";function year(){loading=0,drawCharts(setDateScope(12))}function half(){loading=0,drawCharts(setDateScope(6))}function quater(){loading=0,drawCharts(setDateScope(3))}function month(){loading=0,drawCharts(setDateScope(1))}function alldata(){loading=0,drawCharts("2017-06-01")}
"use strict";function setDateScope(t){var a=new Date;return a.setMonth(a.getMonth()-t),a.toISOString().slice(0,10)}function setDate(t,a){var e="&start_date="+t;return"bitcoin"==a?"https://www.quandl.com/api/v3/datasets/BITSTAMP/USD.csv?api_key=fzanZC3297Jsid-E8vCF"+e:"ether"==a?"https://www.quandl.com/api/v3/datasets/GDAX/ETH_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+e:"litecoin"==a?"https://www.quandl.com/api/v3/datasets/GDAX/LTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+e:void 0}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LXNldHRpbmdzLWFuZC1kYXRhLmpzIiwiZHJhdy1jaGFydC5qcyIsImZ1bmN0aW9ucy9kcmF3Q2hhcnRzLmpzIiwiZnVuY3Rpb25zL2RyYXdQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL2RyYXdWYXJQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL3Byb2dyZXNzLmpzIiwiZnVuY3Rpb25zL3JhZGlvYnV0dG9ucy5qcyIsImZ1bmN0aW9ucy9zZXREYXRlLmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwibWFyZ2luQm90dG9tIiwiY2hhcnRDb2xvciIsImZvbnQiLCJmb250U2l6ZSIsImRyYXdDaGFydHMiLCJkYXRlIiwiZHJhd1ByaWNlQ2hhcnQiLCJzZXREYXRlIiwiZHJhd1ZhclByaWNlQ2hhcnQiLCJhbGxkYXRhIiwiZGF0YSIsImlkIiwiY3VycmVuY3kiLCJxdWV1ZSIsImRlZmVyIiwiZDMiLCJjc3YiLCJhd2FpdCIsInByb2dyZXNzIiwiZXJyb3IiLCJ0cmFuc2FjdGlvbnNEYXRhIiwiY29uc29sZSIsImxvYWRpbmciLCJsb2ciLCJkb2N1bWVudCIsIm1heCIsIm1pbiIsImZpcnN0RGF0ZSIsImEiLCJzdWJzdHIiLCJ0b1N0cmluZyIsImlubmVySFRNTCIsImNvbmNhdCIsIkhpZ2giLCJkIiwiRGF0ZSIsInRpbWUiLCJkb21haW4iLCJsYXN0RGF0ZSIsInJhbmdlIiwieEF4aXMiLCJzdmciLCJheGlzIiwic2NhbGUiLCJ4IiwibGluZWFyIiwicGF0aCIsInJlbW92ZSIsInNlbGVjdCIsImFwcGVuZCIsImF0dHIiLCJiZ2NvbG9yIiwiZHVyYXRpb24iLCJsZW5ndGgiLCJzZWxlY3RBbGwiLCJlbnRlciIsInBhcnNlSW50IiwiaSIsInN0eWxlIiwidGV4dCIsInRyYW5zaXRpb24iLCJ0bXAiLCJjYWxsIiwiZ2V0RWxlbWVudEJ5SWQiLCJPcGVuIiwiTG93IiwiYXZnIiwibWVhbiIsInRvRml4ZWQiLCJkaXNwbGF5IiwieWVhciIsInNldERhdGVTY29wZSIsImhhbGYiLCJxdWF0ZXIiLCJtb250aCIsInBlcmlvZCIsInNldE1vbnRoIiwic2xpY2UiLCJ0eXBlIiwiYml0Y29pblByaWNlRGF0YSIsInN0YXJ0RGF0ZSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBQUEsTUFBQSxJQUNBQyxPQUFBLElBQ01ELGFBQU4sR0FDTUMsV0FBTixvQkFDTUMsS0FBQUEsZ0JBQ0FDLFNBQVcsS0FDWEMsUUFBTyxRQUNQQyxRQUFRO2FDUGQsU0FBQUMsV0FBQUMsR0FFQUMsZUFBU0YsUUFBVEMsRUFBMEIsU0FBQSxTQUFBUCxNQUFBQyxPQUFBLFFBQ3hCTyxlQUFlQyxRQUFRRixFQUFELFdBQWUsV0FBU1AsTUFBTUMsT0FBUSxLQUM1RE8sZUFBZUMsUUFBUUYsRUFBRCxZQUFSLFlBQUFQLE1BQUFDLE9BQUEsUUFHZFMsa0JBQWtCRCxRQUFRRixFQUFELFNBQVIsYUFBdUJQLE1BQWFBLE9BQU1DLFFBQzNEUyxrQkFBa0JELFFBQVFGLEVBQUQsV0FBUixlQUF5QlAsTUFBZUEsT0FBTUMsS0FDL0RTLGtCQUFrQkQsUUFBUUYsRUFBRCxZQUFSLGdCQUEwQlAsTUFBZ0JBLE9BQU1DLFFBS25FVTthQ2RBLFNBQVNMLFdBQVdDLEdBQ2hCQyxlQUFlQyxRQUFRRixFQUFLLFNBQVMsU0FBU1AsTUFBTUMsT0FBUSxRQURoRU8sZUFBQUMsUUFBMEJGLEVBQUEsV0FBQSxXQUFBUCxNQUFBQyxPQUFBLEtBQ3RCTyxlQUFlQyxRQUFRRixFQUFLLFlBQVMsWUFBdkJQLE1BQXNDQyxPQUFRLFFBRTVETyxrQkFBZUMsUUFBT0YsRUFBTSxTQUFZLGFBQVlQLE1BQXRDQyxPQUFBLFFBRWRTLGtCQUFrQkQsUUFBUUYsRUFBSyxXQUFTLGVBQWFQLE1BQU1DLE9BQVEsS0FDbkVTLGtCQUFrQkQsUUFBUUYsRUFBSyxZQUFXLGdCQUFlUCxNQUFNQyxPQUFRO2FDTjNFLFNBQUFPLGVBQUFJLEVBQUFDLEVBQUFiLEVBQUFDLEVBQUFhLEdBSUVDLFFBQ0dDLE1BQU1DLEdBQUdDLElBQUtOLEdB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QyxPQUZGMUMsRUFBSUEsU0FBUUMsRUFBQUEsV0FBWndDLEdBRUVDLEVBQVMxQyxjQUFBMkMsTUFBZUYsRUFBMUIsSUFLSixTQUFTcEUsUUFBUUYsRUFBTXlFLEdBSW5CLElBQUlDLEVBQUFBLGVBQWlCMUUsRUFPcEIsTUFBQSxXQUFBeUUsRUFMb0IsdUZBQUNFLEVBR1osU0FBTkYsRUFESix1RkFBcUJFLEVBRVgsWUFBTkYsRUFEZSx1RkFBQUUsT0FDbkIiLCJmaWxlIjoidmFyaWFiaWxpdHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGphdmFzY3JpcHQgZmlsZSBpcyBsb2FkZWQgZmlyc3QuXG4vLyBDaGFydHMgY29uZmlnXG5jb25zdCB3aWR0aCA9IDMwMDtcbmNvbnN0IGhlaWdodCA9IDIwMDtcbmNvbnN0IG1hcmdpbkJvdHRvbT01MDtcbmNvbnN0IGNoYXJ0Q29sb3I9J3JnYig2NiwgMTcwLCAxNDMpJztcbmNvbnN0IGZvbnQgPSAnRGlkYWN0IEdvdGhpYyc7XG5jb25zdCBmb250U2l6ZSA9ICcxMCc7XG5jb25zdCBiZ2NvbG9yPSd3aGl0ZSc7XG5sZXQgbG9hZGluZz0wO1xuIiwiLy8gVGhpcyBqYXZhc2NyaXB0IGZpbGUgaXMgbGFzdC5cblxuZnVuY3Rpb24gZHJhd0NoYXJ0cyhkYXRlKSB7XG4gIGRyYXdQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwnZXRoZXInKSwnI2V0aGVyJyx3aWR0aCxoZWlnaHQsIFwiRXVyb1wiKTtcbiAgZHJhd1ByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCdiaXRjb2luJyksJyNiaXRjb2luJyx3aWR0aCxoZWlnaHQsIFwiJFwiKTtcbiAgZHJhd1ByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCdsaXRlY29pbicpLCcjbGl0ZWNvaW4nLHdpZHRoLGhlaWdodCwgXCJFdXJvXCIpO1xuICBcbiAgZHJhd1ZhclByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCdldGhlcicpLCcjZXRoZXItdmFyJyx3aWR0aCxoZWlnaHQsIFwiRXVyb1wiKTtcbiAgZHJhd1ZhclByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCdiaXRjb2luJyksJyNiaXRjb2luLXZhcicsd2lkdGgsaGVpZ2h0LCBcIiRcIik7XG4gIGRyYXdWYXJQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwnbGl0ZWNvaW4nKSwnI2xpdGVjb2luLXZhcicsd2lkdGgsaGVpZ2h0LCBcIkV1cm9cIik7XG4gIH1cbi8vRHJhdyBhbGwgY2hhcnRzXG4vL2RyYXdDaGFydHMoZGF0ZSlcbi8vV2hlbiBwYWdlIGlzIGxvYWRpbmcgZmlyc3QgdGltZSBsb2FkIHByZXNldCB3aXRoIGFsbCBkYXRhIGZvciBjaGFydHMuXG5hbGxkYXRhKCk7XG4iLCJmdW5jdGlvbiBkcmF3Q2hhcnRzKGRhdGUpIHtcbiAgICBkcmF3UHJpY2VDaGFydChzZXREYXRlKGRhdGUsJ2V0aGVyJyksJyNldGhlcicsd2lkdGgsaGVpZ2h0LCBcIkV1cm9cIik7XG4gICAgZHJhd1ByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCdiaXRjb2luJyksJyNiaXRjb2luJyx3aWR0aCxoZWlnaHQsIFwiJFwiKTtcbiAgICBkcmF3UHJpY2VDaGFydChzZXREYXRlKGRhdGUsJ2xpdGVjb2luJyksJyNsaXRlY29pbicsd2lkdGgsaGVpZ2h0LCBcIkV1cm9cIik7XG4gICAgXG4gICAgZHJhd1ZhclByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCdldGhlcicpLCcjZXRoZXItdmFyJyx3aWR0aCxoZWlnaHQsIFwiRXVyb1wiKTtcbiAgICBkcmF3VmFyUHJpY2VDaGFydChzZXREYXRlKGRhdGUsJ2JpdGNvaW4nKSwnI2JpdGNvaW4tdmFyJyx3aWR0aCxoZWlnaHQsIFwiJFwiKTtcbiAgICBkcmF3VmFyUHJpY2VDaGFydChzZXREYXRlKGRhdGUsJ2xpdGVjb2luJyksJyNsaXRlY29pbi12YXInLHdpZHRoLGhlaWdodCwgXCJFdXJvXCIpO1xuICAgIH0iLCIvLyBQcmljZVxuXG5mdW5jdGlvbiBkcmF3UHJpY2VDaGFydChkYXRhLCBpZCwgd2lkdGgsIGhlaWdodCwgY3VycmVuY3kpIHtcblxuICBxdWV1ZSgpXG4gICAgLmRlZmVyKGQzLmNzdiwgZGF0YSlcbiAgICAuYXdhaXQobWFrZUdyYXBocyk7XG5cbiAgZnVuY3Rpb24gbWFrZUdyYXBocyhlcnJvciwgdHJhbnNhY3Rpb25zRGF0YSkge1xuICAgIGxvYWRpbmcrKztcbiAgICBwcm9ncmVzcyhsb2FkaW5nKVxuICAgIGNvbnNvbGUubG9nKGxvYWRpbmcpXG4gICAgaWYgKGVycm9yKSB7IGNvbnNvbGUubG9nKGVycm9yKTsgfVxuICAgIGNvbnN0IGEgPSBpZC5zdWJzdHIoMSk7XG4gICAgYS50b1N0cmluZygpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpLmlubmVySFRNTCA9IGA8cD4ke3RyYW5zYWN0aW9uc0RhdGFbMF0uSGlnaH0gJHtjdXJyZW5jeX0gPC9wPmA7XG5cbiAgICBsZXQgbWF4OyBcbiAgICBsZXQgbWluO1xuICAgIGxldCBmaXJzdERhdGU7XG4gICAgbGV0IGxhc3REYXRlO1xuXG4gICAgbWF4ID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCk7XG4gICAgbWluID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCk7XG4gICAgZmlyc3REYXRlID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gZC5EYXRlKTtcbiAgICBsYXN0RGF0ZSA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+IGQuRGF0ZSk7XG4gICAgXG4gICAgXG4gICAgbGV0IHggPSBkMy50aW1lLnNjYWxlKClcbiAgICAgIC5kb21haW4oW25ldyBEYXRlKGZpcnN0RGF0ZSksIG5ldyBEYXRlKGxhc3REYXRlKV0pXG4gICAgICAucmFuZ2UoWzEwLCB3aWR0aC00MV0pOyAgIC8vIExlZnQgcmlnaHQgcG9zaXRpb24gZm9yIGRhdGUgY2hhcnRcblxuICAgIGxldCB4QXhpcyA9IGQzLnN2Zy5heGlzKClcbiAgICAgIC5zY2FsZSh4KTtcblxuXG4gICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxuICAgICAgLmRvbWFpbihbMCwgbWF4IC0gbWluIF0pIC8vIEJvdW5kYXJpZXMgZm9yIGNoYXJ0XG4gICAgICAucmFuZ2UoWzAsIGhlaWdodCAtIDEwIC0gbWFyZ2luQm90dG9tXSk7IC8vIGJvdW5kYXJpZXMgZm9yIGRhdGFcblxuXG4gICAgICBpZiAoc3ZnKSB7XG4gICAgICB2YXIgcGF0aCA9IHN2Zy5zZWxlY3QoaWQpXG4gICAgICBwYXRoLmV4aXQoKS5yZW1vdmUoKVxuICAgICAgY29uc29sZS5sb2coJ3RoZXJlIGlzIHN2ZycpXG4gICAgfVxuICAgICAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KGlkKVxuICAgICAgLmFwcGVuZCgnc3ZnJylcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodClcbiAgICAgIC5zdHlsZSgnYmFja2dyb3VuZC1jb2xvcicsIGJnY29sb3IpXG4gICAgICAvLyAuY2FsbChkMy5iZWhhdmlvci56b29tKCkub24oXCJ6b29tXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vICAgY29uc29sZS5sb2coZDMuZXZlbnQudHJhbnNsYXRlKVxuICAgICAgLy8gICBzdmcuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIGQzLmV2ZW50LnRyYW5zbGF0ZSArIFwiKVwiICsgXCIgc2NhbGUoXCIgKyBkMy5ldmVudC5zY2FsZSArIFwiKVwiKVxuICAgICAgLy8gfSkpXG4gICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgbGV0IHQ9ZDNcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbig0NTAwKVxuXG5cbiAgICAgIGNvbnNvbGUubG9nKHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKVxuICAgXG4gICAgLy8gQmFyc1xuICAgIHN2Zy5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdyZWN0JykgLy8gYXBwZW5kIHN2ZyB0byBkaXZcbiAgICAgIFxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gd2lkdGggLSB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoIC0gKGkgKiAoKHdpZHRoIC0gNTApIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiBoZWlnaHQgLSBtYXJnaW5Cb3R0b20gLSBzY2FsZShkLkhpZ2ggLSBtaW4pKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gc2NhbGUoZC5IaWdoIC0gbWluKSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGQgPT4gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aClcbiAgICAgIC5zdHlsZSgnZmlsbCcsICd3aGl0ZScpXG4gICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKVxuICAgICAgLnRleHQoZCA9PiBgRGF0ZTogJHtkLkRhdGV9IFByaWNlOiAke2QuSGlnaH1gKVxuICAgICAgXG4gICAgICAuYXBwZW5kKFwiZ1wiKTtcbiAgIFxuICAgICAgXG4gICAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxNTAwKVxuICAgICAgLnN0eWxlKFwiZmlsbFwiLGNoYXJ0Q29sb3IpO1xuICAgICBcbiAgICAgIFxuICAgIC8vIFByaWNlXG4gICAgc3ZnLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLnRleHQoKGQsIGkpID0+IHBhcnNlSW50KG1pbiArICgobWF4IC0gbWluKSAqIChpICogMC4xKSAgKSkpXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5hdHRyKCd4JywgKCkgPT4gMjApXG4gICAgICAuYXR0cigneScsIChkLCBpKSA9PiBoZWlnaHQtbWFyZ2luQm90dG9tLWZvbnRTaXplICsgcGFyc2VJbnQoZm9udFNpemUpIC0gKGkgKiAoKGhlaWdodC1tYXJnaW5Cb3R0b20tZm9udFNpemUpIC8gMTApKSlcbiAgICAgIC5hdHRyKCdmb250LWZhbWlseScsIGZvbnQpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpO1xuXG4gICAgIC8vIERhdGVcbiAgICAgICAgIGxldCB0bXA9aGVpZ2h0LW1hcmdpbkJvdHRvbTtcbiAgICAgICAgIFxuICAgICAgICAgc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInggYXhpc1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSg0MCxcIiArIHRtcCArIFwiKVwiKVxuICAgICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAgLnNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoOTApXCIpXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBmb250U2l6ZSlcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuXG4vLyAvLyAxLiBDcmVhdGUgdGhlIGJ1dHRvblxuLy8gbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4vLyBidXR0b24uaW5uZXJIVE1MID0gXCIrXCI7XG4vLyBsZXQgYnV0dG9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4vLyBidXR0b24yLmlubmVySFRNTCA9IFwiLVwiO1xuXG4vLyAvLyAyLiBBcHBlbmQgc29tZXdoZXJlXG4vLyBsZXQgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpXG4vLyBib2R5LmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbi8vIGJvZHkuYXBwZW5kQ2hpbGQoYnV0dG9uMik7XG5cbi8vIC8vIDMuIEFkZCBldmVudCBoYW5kbGVyXG4vLyBidXR0b24uYWRkRXZlbnRMaXN0ZW5lciAoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiBcbi8vIH0pO1xuLy8gYnV0dG9uMi5hZGRFdmVudExpc3RlbmVyIChcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuLy8gICBzdGFydERhdGU9JyZzdGFydF9kYXRlPTIwMTgtMDEtMDEnXG5cbi8vICAgc3ZnLmV4aXQoKS5yZW1vdmUoKVxuXG4vLyBkcmF3VmFyUHJpY2VDaGFydChldGhlclByaWNlRGF0YSwnI2V0aGVyLXZhcicsd2lkdGgsaGVpZ2h0KTtcbi8vIGRyYXdWYXJQcmljZUNoYXJ0KGJpdGNvaW5QcmljZURhdGEsJyNiaXRjb2luLXZhcicsd2lkdGgsaGVpZ2h0KTtcblxuLy8gfSk7XG4gICAgICBcbiAgfVxufVxuIiwiLy8gUHJpY2VcblxuZnVuY3Rpb24gZHJhd1ZhclByaWNlQ2hhcnQoZGF0YSwgaWQsIHdpZHRoLCBoZWlnaHQsIGN1cnJlbmN5KSB7XG5cblxuXG4gIHF1ZXVlKClcbiAgICAuZGVmZXIoZDMuY3N2LCBkYXRhKVxuICAgIC5hd2FpdChtYWtlR3JhcGhzKTtcblxuICBmdW5jdGlvbiBtYWtlR3JhcGhzKGVycm9yLCB0cmFuc2FjdGlvbnNEYXRhKSB7XG4gICAgbG9hZGluZysrO1xuICAgIHByb2dyZXNzKGxvYWRpbmcpXG4gICAgY29uc29sZS5sb2cobG9hZGluZylcbiAgICBpZiAoZXJyb3IpIHsgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIFxuICAgIH1cbiAgICBjb25zdCBhID0gaWQuc3Vic3RyKDEpO1xuICAgIGEudG9TdHJpbmcoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5pbm5lckhUTUwgPSBgPHA+JHt0cmFuc2FjdGlvbnNEYXRhWzBdLk9wZW59ICR7Y3VycmVuY3l9IDwvcD5gO1xuXG4gICAgbGV0IG1heDsgXG4gICAgbGV0IG1pbjtcbiAgICBsZXQgZmlyc3REYXRlO1xuICAgIGxldCBsYXN0RGF0ZTtcblxuICAgIG1heCA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2gtZC5Mb3cpO1xuICAgIG1pbiA9IGQzLm1pbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2gtZC5Mb3cpO1xuICAgIGxldCBhdmcgPSBkMy5tZWFuKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCAtIGQuTG93KTtcbiAgICBmaXJzdERhdGUgPSBkMy5taW4odHJhbnNhY3Rpb25zRGF0YSwgZCA9PiBkLkRhdGUpO1xuICAgIGxhc3REYXRlID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gZC5EYXRlKTtcbiAgICBcblxuICAgIGF2ZyA9IGF2Zy50b0ZpeGVkKDApO1xuICAgIG1heCA9IG1heC50b0ZpeGVkKDApO1xuICAgIC8vbWluID0gbWluLnRvRml4ZWQoMCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYCA8cD4gTWF4OiAke21heH0gQXZlcmFnZTogJHthdmd9ICR7Y3VycmVuY3l9IDwvcD5gO1xuICAgIFxuXG4gICAgbGV0IHggPSBkMy50aW1lLnNjYWxlKClcbiAgICAgIC5kb21haW4oW25ldyBEYXRlKGZpcnN0RGF0ZSksIG5ldyBEYXRlKGxhc3REYXRlKV0pXG4gICAgICAucmFuZ2UoWzEwLCB3aWR0aC00MV0pOyAgIC8vIExlZnQgcmlnaHQgcG9zaXRpb24gZm9yIGRhdGUgY2hhcnRcblxuICAgIGxldCB4QXhpcyA9IGQzLnN2Zy5heGlzKClcbiAgICAgIC5zY2FsZSh4KTtcblxuXG4gICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxuICAgICAgLmRvbWFpbihbMCwgbWF4IC0gbWluIF0pIC8vIEJvdW5kYXJpZXMgZm9yIGNoYXJ0XG4gICAgICAucmFuZ2UoWzAsIGhlaWdodCAtIDEwIC0gbWFyZ2luQm90dG9tXSk7IC8vIGJvdW5kYXJpZXMgZm9yIGRhdGFcblxuICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChpZClcbiAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXG4gICAgICAuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBiZ2NvbG9yKTtcblxuXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKSAvLyBhcHBlbmQgc3ZnIHRvIGRpdlxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gd2lkdGggKyAwIC0gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCAtIChpICogKCh3aWR0aCAtIDUwKSAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKSkpXG4gICAgICAuYXR0cigneScsIGQgPT4gaGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gc2NhbGUoZC5IaWdoIC0gZC5Mb3cpKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gc2NhbGUoZC5IaWdoIC0gZC5Mb3cpKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgZCA9PiB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ3doaXRlJylcbiAgICAgXG5cbiAgICAgXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgLnRyYW5zaXRpb24oKVxuICAgIC5kdXJhdGlvbigxNTAwKVxuICAgIC5zdHlsZShcImZpbGxcIixjaGFydENvbG9yKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuZHVyYXRpb24oMzAwMClcbiAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgaWYgKGQuSGlnaC1kLkxvdyA+IGF2ZykgeyAgIC8vVGhyZXNob2xkIG9mIDE1XG4gICAgICAgICAgcmV0dXJuIFwib3JhbmdlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBjaGFydENvbG9yO1xuICAgICAgfVxuICB9KVxuXG5cbiAgICAvLyBQcmljZVxuICAgIHN2Zy5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC50ZXh0KChkLCBpKSA9PiBwYXJzZUludChtaW4gKyAoKG1heCAtIG1pbikgKiAoaSAqIDAuMSkpKSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ3gnLCAoKSA9PiAyMClcbiAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGhlaWdodCAtIG1hcmdpbkJvdHRvbSAtIChpICogKChoZWlnaHQtbWFyZ2luQm90dG9tLWZvbnRTaXplKSAvIDEwKSkpXG4gICAgICAuYXR0cignZm9udC1mYW1pbHknLCBmb250KVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTtcblxuICAgICAgXG5cbiAgICAgLy8gRGF0ZVxuICAgICAgICAgbGV0IHRtcD1oZWlnaHQtbWFyZ2luQm90dG9tO1xuICAgICAgICAgXG4gICAgICAgICBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDQwLFwiICsgdG1wICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKHhBeGlzKVxuICAgICAgICAuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg5MClcIilcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuXG5cblxuICB9XG59XG5cblxuIiwiZnVuY3Rpb24gcHJvZ3Jlc3MobG9hZGluZykge1xuXG4gICAgXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZ3Jlc3NcIikuaW5uZXJIVE1MID0gXCJMb2FkaW5nIGRhdGE6IFwiICsgKGxvYWRpbmcvNioxMDApLnRvRml4ZWQoMCkgICsgXCIlXCJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9ncmVzc1wiKS5zdHlsZS53aWR0aD0gKGxvYWRpbmcvNikqMTAwICsgXCIlXCI7XG4gICAgICAgIGlmIChsb2FkaW5nPT02IHx8IGxvYWRpbmc9PTAgKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzLWJhclwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9ncmVzcy1iYXJcIikuc3R5bGUuZGlzcGxheSA9ICdibG9jaycgICAgIFxuICAgICAgICB9XG4gICAgXG4gICAgXG4gICAgXG59IiwiZnVuY3Rpb24geWVhcigpIHtcbiAgICBsb2FkaW5nID0gMDtcbiAgICBkcmF3Q2hhcnRzKHNldERhdGVTY29wZSgxMikpO1xufVxuXG5mdW5jdGlvbiBoYWxmKCkge1xuICAgIGxvYWRpbmcgPSAwO1xuICAgIGRyYXdDaGFydHMoc2V0RGF0ZVNjb3BlKDYpKTtcbn1cblxuZnVuY3Rpb24gcXVhdGVyKCkge1xuICAgIGxvYWRpbmcgPSAwO1xuICAgIGRyYXdDaGFydHMoc2V0RGF0ZVNjb3BlKDMpKTtcbn1cblxuXG5mdW5jdGlvbiBtb250aCgpIHtcbiAgICBsb2FkaW5nID0gMDtcbiAgICBkcmF3Q2hhcnRzKHNldERhdGVTY29wZSgxKSk7XG59XG5cblxuZnVuY3Rpb24gYWxsZGF0YSgpIHtcbiAgICBsb2FkaW5nID0gMDtcbiAgICBkcmF3Q2hhcnRzKCcyMDE3LTA2LTAxJyk7XG59IiwiZnVuY3Rpb24gc2V0RGF0ZVNjb3BlKHBlcmlvZCkge1xuICAgIHZhciBkID0gbmV3IERhdGUoKVxuXG4gICAgZC5zZXRNb250aChkLmdldE1vbnRoKCkgLSBwZXJpb2QpO1xuICAgIHJldHVybiBkLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCk7XG59XG5cblxuZnVuY3Rpb24gc2V0RGF0ZShkYXRlLCB0eXBlKSB7XG4gICAgXG4gICAgbGV0IHN0YXJ0RGF0ZT0nJnN0YXJ0X2RhdGU9JytkYXRlXG4gICAgXG4gICAgbGV0IGJpdGNvaW5QcmljZURhdGE9J2h0dHBzOi8vd3d3LnF1YW5kbC5jb20vYXBpL3YzL2RhdGFzZXRzL0JJVFNUQU1QL1VTRC5jc3Y/YXBpX2tleT1memFuWkMzMjk3SnNpZC1FOHZDRicrc3RhcnREYXRlO1xuICAgIGxldCBldGhlclByaWNlRGF0YT0naHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9FVEhfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJytzdGFydERhdGU7XG4gICAgbGV0IGxpdGVjb2luUHJpY2VEYXRhPSdodHRwczovL3d3dy5xdWFuZGwuY29tL2FwaS92My9kYXRhc2V0cy9HREFYL0xUQ19FVVIuY3N2P2FwaV9rZXk9ZnphblpDMzI5N0pzaWQtRTh2Q0YnK3N0YXJ0RGF0ZTtcbiAgICBcbiAgICBpZiAodHlwZT09J2JpdGNvaW4nKSByZXR1cm4gYml0Y29pblByaWNlRGF0YVxuICAgIGlmICh0eXBlPT0nZXRoZXInKSByZXR1cm4gZXRoZXJQcmljZURhdGFcbiAgICBpZiAodHlwZT09J2xpdGVjb2luJykgcmV0dXJuIGxpdGVjb2luUHJpY2VEYXRhXG4gICAgfSJdfQ==
