"use strict";var width=300,height=200,marginBottom=50,chartColor="rgb(66, 170, 143)",font="Didact Gothic",fontSize="10",bgcolor="white",loading=0;
"use strict";drawCharts("2017-07-01");
"use strict";function drawCharts(t){drawPriceChart(setDate(t,"ether"),"#ether",width,height,"Euro"),drawPriceChart(setDate(t,"bitcoin"),"#bitcoin",width,height,"$"),drawPriceChart(setDate(t,"litecoin"),"#litecoin",width,height,"Euro"),drawVarPriceChart(setDate(t,"ether"),"#ether-var",width,height,"Euro"),drawVarPriceChart(setDate(t,"bitcoin"),"#bitcoin-var",width,height,"$"),drawVarPriceChart(setDate(t,"litecoin"),"#litecoin-var",width,height,"Euro")}
"use strict";function drawPriceChart(t,e,n,r,a){queue().defer(d3.csv,t).await(function(t,i){loading++,progress(loading),t&&console.log(t);var o,c,l,s,d=e.substr(1);d.toString(),document.getElementById(d).innerHTML="<p>".concat(i[0].High," ").concat(a," </p>"),o=d3.max(i,function(t){return+t.High}),c=d3.min(i,function(t){return+t.High}),l=d3.min(i,function(t){return t.Date}),s=d3.max(i,function(t){return t.Date});var g=d3.time.scale().domain([new Date(l),new Date(s)]).range([10,n-41]),u=d3.svg.axis().scale(g),f=d3.scale.linear().domain([0,o-c]).range([0,r-10-marginBottom]);if(h){var m=h.select(e);m.exit().remove(),console.log("there is svg")}var h=d3.select(e).append("svg").attr("width",n).attr("height",r).style("background-color",bgcolor).append("g");d3.transition().duration(4500);h.selectAll("rect").data(i).enter().append("rect").attr("x",function(t,e){return n-n/i.length-e*((n-50)/i.length)}).attr("y",function(t){return r-marginBottom-f(t.High-c)}).attr("height",function(t){return f(t.High-c)}).attr("width",function(t){return n/i.length}).style("fill","white").append("svg:title").text(function(t){return"Date: ".concat(t.Date," Price: ").concat(t.High)}).append("g"),h.selectAll("rect").transition().duration(1500).style("fill",chartColor),h.selectAll("text").data(i).enter().append("text").text(function(t,e){return parseInt(c+.1*e*(o-c))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,e){return r-marginBottom-fontSize+parseInt(fontSize)-e*((r-marginBottom-fontSize)/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black");var p=r-marginBottom;h.append("g").attr("class","x axis").attr("transform","translate(40,".concat(p,")")).call(u).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").attr("font-size",fontSize).style("text-anchor","start")})}
"use strict";function drawVarPriceChart(t,n,e,r,a){return queue().defer(d3.csv,t).await(function(t,o){loading++,progress(loading),t&&console.log(t);var i,c,l,u,d=n.substr(1);d.toString(),document.getElementById(d).innerHTML="<p>".concat(o[0].Open," ").concat(a," </p>"),i=d3.max(o,function(t){return+t.High-t.Low}),c=d3.min(o,function(t){return+t.High-t.Low});var s=d3.mean(o,function(t){return+t.High-t.Low});l=d3.min(o,function(t){return t.Date}),u=d3.max(o,function(t){return t.Date}),s=s.toFixed(0),i=i.toFixed(0),document.getElementById(d).innerHTML=" <p> Max: ".concat(i," Average: ").concat(s," ").concat(a," </p>");var g=d3.time.scale().domain([new Date(l),new Date(u)]).range([10,e-41]),f=d3.svg.axis().scale(g),m=d3.scale.linear().domain([0,i-c]).range([0,r-10-marginBottom]),h=d3.select(n).append("svg").attr("width",e).attr("height",r).style("background-color",bgcolor);h.selectAll("rect").data(o).enter().append("rect").attr("x",function(t,n){return e+0-e/o.length-n*((e-50)/o.length)}).attr("y",function(t){return r-marginBottom-m(t.High-t.Low)}).attr("height",function(t){return m(t.High-t.Low)}).attr("width",function(t){return e/o.length}).style("fill","white"),h.selectAll("rect").transition().duration(1500).style("fill",chartColor).transition().duration(3e3).style("fill",function(t){return t.High-t.Low>s?"orange":chartColor}),h.selectAll("text").data(o).enter().append("text").text(function(t,n){return parseInt(c+.1*n*(i-c))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,n){return r-marginBottom-n*((r-marginBottom-fontSize)/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black");var x=r-marginBottom;h.append("g").attr("class","x axis").attr("transform","translate(40,"+x+")").call(f).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").attr("font-size",fontSize).style("text-anchor","start")}),"done"}
"use strict";function progress(e){document.getElementById("progress").innerHTML="Loading data: ".concat((e/6*100).toFixed(0),"%"),document.getElementById("progress").style.width="".concat(e/6*100,"%"),document.getElementById("progress-bar").style.display=6==e||0==e?"none":"block"}
"use strict";function drawChartsSelectMonths(a){6==loading&&(loading=0,drawCharts(setDateScope(a)))}function alldata(){6==loading&&(loading=0,drawCharts("2017-07-01"))}
"use strict";function setDateScope(t){var a=new Date;return a.setMonth(a.getMonth()-t),a.toISOString().slice(0,10)}function setDate(t,a){var e="&start_date="+t;return"bitcoin"==a?"https://www.quandl.com/api/v3/datasets/BITSTAMP/USD.csv?api_key=fzanZC3297Jsid-E8vCF"+e:"ether"==a?"https://www.quandl.com/api/v3/datasets/GDAX/ETH_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+e:"litecoin"==a?"https://www.quandl.com/api/v3/datasets/GDAX/LTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+e:void 0}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LXNldHRpbmdzLWFuZC1kYXRhLmpzIiwiZHJhdy1jaGFydC5qcyIsImZ1bmN0aW9ucy9kcmF3Q2hhcnRzLmpzIiwiZnVuY3Rpb25zL2RyYXdQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL2RyYXdWYXJQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL3Byb2dyZXNzLmpzIiwiZnVuY3Rpb25zL3JhZGlvYnV0dG9ucy5qcyIsImZ1bmN0aW9ucy9zZXREYXRlLmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwibWFyZ2luQm90dG9tIiwiY2hhcnRDb2xvciIsImZvbnQiLCJmb250U2l6ZSIsImRyYXdDaGFydHMiLCJkYXRlIiwiZHJhd1ByaWNlQ2hhcnQiLCJzZXREYXRlIiwiZHJhd1ZhclByaWNlQ2hhcnQiLCJkYXRhIiwiaWQiLCJjdXJyZW5jeSIsInF1ZXVlIiwiZGVmZXIiLCJlcnJvciIsInRyYW5zYWN0aW9uc0RhdGEiLCJsb2FkaW5nIiwicHJvZ3Jlc3MiLCJjb25zb2xlIiwibG9nIiwiYSIsInRvU3RyaW5nIiwiZG9jdW1lbnQiLCJtYXgiLCJzdWJzdHIiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImNvbmNhdCIsIkhpZ2giLCJmaXJzdERhdGUiLCJkIiwibWluIiwibGFzdERhdGUiLCJkMyIsIkRhdGUiLCJ4Iiwic2NhbGUiLCJkb21haW4iLCJ4QXhpcyIsInN2ZyIsImF4aXMiLCJ0aW1lIiwibGluZWFyIiwicmFuZ2UiLCJwYXRoIiwic2VsZWN0IiwiZXhpdCIsInJlbW92ZSIsImFwcGVuZCIsImF0dHIiLCJzdHlsZSIsImJnY29sb3IiLCJzZWxlY3RBbGwiLCJ0cmFuc2l0aW9uIiwiZW50ZXIiLCJpIiwibGVuZ3RoIiwiZHVyYXRpb24iLCJwYXJzZUludCIsInRleHQiLCJ0bXAiLCJjYWxsIiwiY3N2IiwiYXdhaXQiLCJPcGVuIiwiTG93IiwiYXZnIiwibWVhbiIsInRvRml4ZWQiLCJkaXNwbGF5IiwiZHJhd0NoYXJ0c1NlbGVjdE1vbnRocyIsIm51bWJlck1vbnRocyIsInNldERhdGVTY29wZSIsInBlcmlvZCIsInNldE1vbnRoIiwic2xpY2UiLCJ0eXBlIiwiYml0Y29pblByaWNlRGF0YSIsInN0YXJ0RGF0ZSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBQUEsTUFBQSxJQUNBQyxPQUFBLElBQ01ELGFBQU4sR0FDTUMsV0FBTixvQkFDTUMsS0FBQUEsZ0JBQ0FDLFNBQVcsS0FDWEMsUUFBTyxRQUNQQyxRQUFRO2FDRmRDLFdBQVc7YUNKWCxTQUFTQSxXQUFXQyxHQURwQkMsZUFBQUMsUUFBQUYsRUFBQSxTQUFBLFNBQUFQLE1BQUFDLE9BQUEsUUFDQU8sZUFBU0YsUUFBVEMsRUFBMEIsV0FBQSxXQUFBUCxNQUFBQyxPQUFBLEtBQ3hCTyxlQUFlQyxRQUFRRixFQUFNLFlBQVUsWUFBekJQLE1BQUFDLE9BQUEsUUFFZE8sa0JBQWVDLFFBQVFGLEVBQU0sU0FBYSxhQUFhUCxNQUFPQyxPQUFRLFFBRXRFUyxrQkFBa0JELFFBQVFGLEVBQU0sV0FBVSxlQUFjUCxNQUFPQyxPQUFRLEtBQ3ZFUyxrQkFBa0JELFFBQVFGLEVBQU0sWUFBWSxnQkFBZ0JQLE1BQU9DLE9BQVE7YUNKN0UsU0FBU08sZUFBZUcsRUFBTUMsRUFBSVosRUFBT0MsRUFBUVksR0FGakRDLFFBRUFDLE1BQVNQLEdBQUFBLElBQUFBLEdBQ1BNLE1BSUEsU0FBb0JFLEVBQU9DLEdBQ3pCQyxVQUNBQyxTQUFTRCxTQUNMRixHQUFTSSxRQUFRQyxJQUFJTCxHQUF6QixJQUNNTSxFQUNKQyxFQUNGQyxFQUVJQyxFQUxBVCxFQUFKSixFQUFXYyxPQUFBLEdBQUVOLEVBQUFBLFdBQXFCSSxTQUFBRyxlQUFBTCxHQUFBTSxVQUFBLE1BQUFDLE9BQUFaLEVBQUEsR0FBQWEsS0FBQSxLQUFBRCxPQUFBaEIsRUFBQSxTQU9sQ1ksRUFBSU0sR0FBQUEsSUFBSmQsRUFBQSxTQUFBZSxHQUFBLE9BQUFBLEVBQUFGLE9BQ0FHLEVBQUlDLEdBQUFBLElBQUpqQixFQUFBLFNBQUFlLEdB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LEdBQ1ZBLEtBQUssS0FBTSxTQUNYQSxLQUFLLFlBQWEsY0FDbEJBLEtBQUssWUFBYTlDLFVBQ2xCK0MsTUFBTSxjQUFlLFdBRW5CO2FDN0dULFNBQVNqQyxTQUFTRCxHQURsQk0sU0FBQUcsZUFBQSxZQUFBQyxVQUFBLGlCQUFBQyxRQUFBWCxFQUFBLEVBQUEsS0FBQW9ELFFBQUEsR0FBQSxLQUNBOUMsU0FBU0wsZUFBVCxZQUEyQmlDLE1BQUFwRCxNQUEzQixHQUFBNkIsT0FBMkJYLEVBQUEsRUFBQSxJQUEzQixLQUVFTSxTQUFTRyxlQUFlLGdCQUFrQjNCLE1BQTFDdUUsUUFEUzVDLEdBQVRILEdBQXdCLEdBQWZHLEVBQ1QsT0FDa0M7YUNKcEMsU0FBQTZDLHVCQUFBQyxHQUdpQixHQUFYdkQsVUFGTkEsUUFBQSxFQUNBWixXQUFTa0UsYUFBQUEsS0FHTGxFLFNBQUFBLFVBQ0QsR0FBQVksVUFDRkEsUUFBQSxFQUtHWixXQUFXO2FDWmYsU0FBU29FLGFBQWFDLEdBQ2xCLElBQUkzQyxFQUFJLElBQUlJLEtBRVZ3QyxPQUZGNUMsRUFBSUEsU0FBUUksRUFBQUEsV0FBWnVDLEdBRUVDLEVBQVM1QyxjQUFBNkMsTUFBZUYsRUFBMUIsSUFLSixTQUFTbEUsUUFBUUYsRUFBTXVFLEdBSW5CLElBQUlDLEVBQUFBLGVBQWlCeEUsRUFPcEIsTUFBQSxXQUFBdUUsRUFMb0IsdUZBQUNFLEVBR1osU0FBTkYsRUFESix1RkFBcUJFLEVBRVgsWUFBTkYsRUFEZSx1RkFBQUUsT0FDbkIiLCJmaWxlIjoidmFyaWFiaWxpdHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGphdmFzY3JpcHQgZmlsZSBpcyBsb2FkZWQgZmlyc3QuXG4vLyBDaGFydHMgY29uZmlnXG5jb25zdCB3aWR0aCA9IDMwMDtcbmNvbnN0IGhlaWdodCA9IDIwMDtcbmNvbnN0IG1hcmdpbkJvdHRvbT01MDtcbmNvbnN0IGNoYXJ0Q29sb3I9J3JnYig2NiwgMTcwLCAxNDMpJztcbmNvbnN0IGZvbnQgPSAnRGlkYWN0IEdvdGhpYyc7XG5jb25zdCBmb250U2l6ZSA9ICcxMCc7XG5jb25zdCBiZ2NvbG9yPSd3aGl0ZSc7XG5sZXQgbG9hZGluZz0wO1xuIiwiLy8gVGhpcyBqYXZhc2NyaXB0IGZpbGUgaXMgbGFzdC5cbi8vIEluaXRpYWxpemF0aW9uIGZ1bmN0aW9ucyBvbiBwYWdlIHN0YXJ0LlxuXG4vLyBXaGVuIHBhZ2UgaXMgbG9hZGluZyBmaXJzdCB0aW1lIGxvYWQgcHJlc2V0IHdpdGggYWxsIGRhdGEgZm9yIGNoYXJ0cy5cbi8qZXNsaW50IG5vLXVuZGVmOiAwKi9cbmRyYXdDaGFydHMoJzIwMTctMDctMDEnKTtcbiIsIi8qZXNsaW50IG5vLXVuZGVmOiAwKi9cbmZ1bmN0aW9uIGRyYXdDaGFydHMoZGF0ZSkge1xuICBkcmF3UHJpY2VDaGFydChzZXREYXRlKGRhdGUsICdldGhlcicpLCAnI2V0aGVyJywgd2lkdGgsIGhlaWdodCwgJ0V1cm8nKTtcbiAgZHJhd1ByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCAnYml0Y29pbicpLCAnI2JpdGNvaW4nLCB3aWR0aCwgaGVpZ2h0LCAnJCcpO1xuICBkcmF3UHJpY2VDaGFydChzZXREYXRlKGRhdGUsICdsaXRlY29pbicpLCAnI2xpdGVjb2luJywgd2lkdGgsIGhlaWdodCwgJ0V1cm8nKTtcblxuICBkcmF3VmFyUHJpY2VDaGFydChzZXREYXRlKGRhdGUsICdldGhlcicpLCAnI2V0aGVyLXZhcicsIHdpZHRoLCBoZWlnaHQsICdFdXJvJyk7XG4gIGRyYXdWYXJQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwgJ2JpdGNvaW4nKSwgJyNiaXRjb2luLXZhcicsIHdpZHRoLCBoZWlnaHQsICckJyk7XG4gIGRyYXdWYXJQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwgJ2xpdGVjb2luJyksICcjbGl0ZWNvaW4tdmFyJywgd2lkdGgsIGhlaWdodCwgJ0V1cm8nKTtcbn1cbiIsIi8vIFRoaXMgZnVuY3Rpb24gZHJhdyBwcmljZSBjaGFydFxuLyogZXNsaW50IG5vLXVuZGVmOiAwKi9cblxuZnVuY3Rpb24gZHJhd1ByaWNlQ2hhcnQoZGF0YSwgaWQsIHdpZHRoLCBoZWlnaHQsIGN1cnJlbmN5KSB7XG4gIHF1ZXVlKClcbiAgICAuZGVmZXIoZDMuY3N2LCBkYXRhKVxuICAgIC5hd2FpdChtYWtlR3JhcGhzKTtcblxuICBmdW5jdGlvbiBtYWtlR3JhcGhzKGVycm9yLCB0cmFuc2FjdGlvbnNEYXRhKSB7XG4gICAgbG9hZGluZysrO1xuICAgIHByb2dyZXNzKGxvYWRpbmcpO1xuICAgIGlmIChlcnJvcikgeyBjb25zb2xlLmxvZyhlcnJvcik7IH1cbiAgICBjb25zdCBhID0gaWQuc3Vic3RyKDEpO1xuICAgIGEudG9TdHJpbmcoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5pbm5lckhUTUwgPSBgPHA+JHt0cmFuc2FjdGlvbnNEYXRhWzBdLkhpZ2h9ICR7Y3VycmVuY3l9IDwvcD5gO1xuXG4gICAgbGV0IG1heDtcbiAgICBsZXQgbWluO1xuICAgIGxldCBmaXJzdERhdGU7XG4gICAgbGV0IGxhc3REYXRlO1xuXG4gICAgbWF4ID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCk7XG4gICAgbWluID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCk7XG4gICAgZmlyc3REYXRlID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gZC5EYXRlKTtcbiAgICBsYXN0RGF0ZSA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+IGQuRGF0ZSk7XG5cblxuICAgIGNvbnN0IHggPSBkMy50aW1lLnNjYWxlKClcbiAgICAgIC5kb21haW4oW25ldyBEYXRlKGZpcnN0RGF0ZSksIG5ldyBEYXRlKGxhc3REYXRlKV0pXG4gICAgICAucmFuZ2UoWzEwLCB3aWR0aCAtIDQxXSk7IC8vIExlZnQgcmlnaHQgcG9zaXRpb24gZm9yIGRhdGUgY2hhcnRcblxuICAgIGNvbnN0IHhBeGlzID0gZDMuc3ZnLmF4aXMoKVxuICAgICAgLnNjYWxlKHgpO1xuXG5cbiAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAuZG9tYWluKFswLCBtYXggLSBtaW5dKSAvLyBCb3VuZGFyaWVzIGZvciBjaGFydFxuICAgICAgLnJhbmdlKFswLCBoZWlnaHQgLSAxMCAtIG1hcmdpbkJvdHRvbV0pOyAvLyBib3VuZGFyaWVzIGZvciBkYXRhXG5cblxuICAgIGlmIChzdmcpIHtcbiAgICAgIGNvbnN0IHBhdGggPSBzdmcuc2VsZWN0KGlkKTtcbiAgICAgIHBhdGguZXhpdCgpLnJlbW92ZSgpO1xuICAgICAgY29uc29sZS5sb2coJ3RoZXJlIGlzIHN2ZycpO1xuICAgIH1cbiAgICBjb25zdCBzdmcgPSBkMy5zZWxlY3QoaWQpXG4gICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxuICAgICAgLnN0eWxlKCdiYWNrZ3JvdW5kLWNvbG9yJywgYmdjb2xvcilcbiAgICAgIC8vIC5jYWxsKGQzLmJlaGF2aW9yLnpvb20oKS5vbihcInpvb21cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICBjb25zb2xlLmxvZyhkMy5ldmVudC50cmFuc2xhdGUpXG4gICAgICAvLyAgIHN2Zy5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgZDMuZXZlbnQudHJhbnNsYXRlICsgXCIpXCIgKyBcIiBzY2FsZShcIiArIGQzLmV2ZW50LnNjYWxlICsgXCIpXCIpXG4gICAgICAvLyB9KSlcbiAgICAgIC5hcHBlbmQoJ2cnKTtcbiAgICBjb25zdCB0ID0gZDNcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbig0NTAwKTtcblxuICAgIC8vIEJhcnNcbiAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncmVjdCcpIC8vIGFwcGVuZCBzdmcgdG8gZGl2XG5cbiAgICAgIC5hdHRyKCd4JywgKGQsIGkpID0+IHdpZHRoIC0gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCAtIChpICogKCh3aWR0aCAtIDUwKSAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKSkpXG4gICAgICAuYXR0cigneScsIGQgPT4gaGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gc2NhbGUoZC5IaWdoIC0gbWluKSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IHNjYWxlKGQuSGlnaCAtIG1pbikpXG4gICAgICAuYXR0cignd2lkdGgnLCBkID0+IHdpZHRoIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCAnd2hpdGUnKVxuICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJylcbiAgICAgIC50ZXh0KGQgPT4gYERhdGU6ICR7ZC5EYXRlfSBQcmljZTogJHtkLkhpZ2h9YClcblxuICAgICAgLmFwcGVuZCgnZycpO1xuXG5cbiAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxNTAwKVxuICAgICAgLnN0eWxlKCdmaWxsJywgY2hhcnRDb2xvcik7XG5cblxuICAgIC8vIFByaWNlXG4gICAgc3ZnLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLnRleHQoKGQsIGkpID0+IHBhcnNlSW50KG1pbiArICgobWF4IC0gbWluKSAqIChpICogMC4xKSkpKVxuICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAuYXR0cigneCcsICgpID0+IDIwKVxuICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gaGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gZm9udFNpemUgKyBwYXJzZUludChmb250U2l6ZSkgLSAoaSAqICgoaGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gZm9udFNpemUpIC8gMTApKSlcbiAgICAgIC5hdHRyKCdmb250LWZhbWlseScsIGZvbnQpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpO1xuXG4gICAgLy8gRGF0ZVxuICAgIGNvbnN0IHRtcCA9IGhlaWdodCAtIG1hcmdpbkJvdHRvbTtcblxuICAgIHN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3ggYXhpcycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSg0MCwkeyAgdG1wICB9KWApXG4gICAgICAuY2FsbCh4QXhpcylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmF0dHIoJ3knLCAwKVxuICAgICAgLmF0dHIoJ3gnLCA5KVxuICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAncm90YXRlKDkwKScpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0Jyk7XG5cblxuICAgIC8vIC8vIDEuIENyZWF0ZSB0aGUgYnV0dG9uXG4gICAgLy8gbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgLy8gYnV0dG9uLmlubmVySFRNTCA9IFwiK1wiO1xuICAgIC8vIGxldCBidXR0b24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAvLyBidXR0b24yLmlubmVySFRNTCA9IFwiLVwiO1xuXG4gICAgLy8gLy8gMi4gQXBwZW5kIHNvbWV3aGVyZVxuICAgIC8vIGxldCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSlcbiAgICAvLyBib2R5LmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbiAgICAvLyBib2R5LmFwcGVuZENoaWxkKGJ1dHRvbjIpO1xuXG4gICAgLy8gLy8gMy4gQWRkIGV2ZW50IGhhbmRsZXJcbiAgICAvLyBidXR0b24uYWRkRXZlbnRMaXN0ZW5lciAoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblxuICAgIC8vIH0pO1xuICAgIC8vIGJ1dHRvbjIuYWRkRXZlbnRMaXN0ZW5lciAoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAvLyAgIHN0YXJ0RGF0ZT0nJnN0YXJ0X2RhdGU9MjAxOC0wMS0wMSdcblxuICAgIC8vICAgc3ZnLmV4aXQoKS5yZW1vdmUoKVxuXG4gICAgLy8gZHJhd1ZhclByaWNlQ2hhcnQoZXRoZXJQcmljZURhdGEsJyNldGhlci12YXInLHdpZHRoLGhlaWdodCk7XG4gICAgLy8gZHJhd1ZhclByaWNlQ2hhcnQoYml0Y29pblByaWNlRGF0YSwnI2JpdGNvaW4tdmFyJyx3aWR0aCxoZWlnaHQpO1xuXG4gICAgLy8gfSk7XG4gIH1cbn1cbiIsIi8vIERyYXcgcHJpY2UgY2hhcnRcblxuZnVuY3Rpb24gZHJhd1ZhclByaWNlQ2hhcnQoZGF0YSwgaWQsIHdpZHRoLCBoZWlnaHQsIGN1cnJlbmN5KSB7XG4gIHF1ZXVlKClcbiAgICAuZGVmZXIoZDMuY3N2LCBkYXRhKVxuICAgIC5hd2FpdChtYWtlR3JhcGhzKTtcblxuICBmdW5jdGlvbiBtYWtlR3JhcGhzKGVycm9yLCB0cmFuc2FjdGlvbnNEYXRhKSB7XG4gICAgbG9hZGluZysrO1xuICAgIHByb2dyZXNzKGxvYWRpbmcpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gICAgY29uc3QgYSA9IGlkLnN1YnN0cigxKTtcbiAgICBhLnRvU3RyaW5nKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYDxwPiR7dHJhbnNhY3Rpb25zRGF0YVswXS5PcGVufSAke2N1cnJlbmN5fSA8L3A+YDtcblxuICAgIGxldCBtYXg7XG4gICAgbGV0IG1pbjtcbiAgICBsZXQgZmlyc3REYXRlO1xuICAgIGxldCBsYXN0RGF0ZTtcblxuICAgIG1heCA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2ggLSBkLkxvdyk7XG4gICAgbWluID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCAtIGQuTG93KTtcbiAgICBsZXQgYXZnID0gZDMubWVhbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2ggLSBkLkxvdyk7XG4gICAgZmlyc3REYXRlID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gZC5EYXRlKTtcbiAgICBsYXN0RGF0ZSA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+IGQuRGF0ZSk7XG5cblxuICAgIGF2ZyA9IGF2Zy50b0ZpeGVkKDApO1xuICAgIG1heCA9IG1heC50b0ZpeGVkKDApO1xuICAgIC8vIG1pbiA9IG1pbi50b0ZpeGVkKDApO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpLmlubmVySFRNTCA9IGAgPHA+IE1heDogJHttYXh9IEF2ZXJhZ2U6ICR7YXZnfSAke2N1cnJlbmN5fSA8L3A+YDtcblxuXG4gICAgY29uc3QgeCA9IGQzLnRpbWUuc2NhbGUoKVxuICAgICAgLmRvbWFpbihbbmV3IERhdGUoZmlyc3REYXRlKSwgbmV3IERhdGUobGFzdERhdGUpXSlcbiAgICAgIC5yYW5nZShbMTAsIHdpZHRoIC0gNDFdKTsgLy8gTGVmdCByaWdodCBwb3NpdGlvbiBmb3IgZGF0ZSBjaGFydFxuXG4gICAgY29uc3QgeEF4aXMgPSBkMy5zdmcuYXhpcygpXG4gICAgICAuc2NhbGUoeCk7XG5cblxuICAgIGNvbnN0IHNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgIC5kb21haW4oWzAsIG1heCAtIG1pbl0pIC8vIEJvdW5kYXJpZXMgZm9yIGNoYXJ0XG4gICAgICAucmFuZ2UoWzAsIGhlaWdodCAtIDEwIC0gbWFyZ2luQm90dG9tXSk7IC8vIGJvdW5kYXJpZXMgZm9yIGRhdGFcblxuICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChpZClcbiAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXG4gICAgICAuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBiZ2NvbG9yKTtcblxuXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKSAvLyBhcHBlbmQgc3ZnIHRvIGRpdlxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gd2lkdGggKyAwIC0gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCAtIChpICogKCh3aWR0aCAtIDUwKSAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKSkpXG4gICAgICAuYXR0cigneScsIGQgPT4gaGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gc2NhbGUoZC5IaWdoIC0gZC5Mb3cpKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gc2NhbGUoZC5IaWdoIC0gZC5Mb3cpKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgZCA9PiB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ3doaXRlJyk7XG5cblxuXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMTUwMClcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Q29sb3IpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oMzAwMClcbiAgICAgIC5zdHlsZSgnZmlsbCcsIChkKSA9PiB7XG4gICAgICBpZiAoZC5IaWdoLWQuTG93ID4gYXZnKSB7ICAgLy9UaHJlc2hvbGQgb2YgMTVcbiAgICAgICAgICByZXR1cm4gXCJvcmFuZ2VcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNoYXJ0Q29sb3I7XG4gICAgICB9XG4gIH0pO1xuXG5cbiAgICAvLyBQcmljZVxuICAgIHN2Zy5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC50ZXh0KChkLCBpKSA9PiBwYXJzZUludChtaW4gKyAoKG1heCAtIG1pbikgKiAoaSAqIDAuMSkpKSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ3gnLCAoKSA9PiAyMClcbiAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGhlaWdodCAtIG1hcmdpbkJvdHRvbSAtIChpICogKChoZWlnaHQgLSBtYXJnaW5Cb3R0b20gLSBmb250U2l6ZSkgLyAxMCkpKVxuICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgZm9udClcbiAgICAgIC5hdHRyKCdmb250LXNpemUnLCBmb250U2l6ZSlcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJyk7XG5cbiAgICAvLyBEYXRlXG4gICAgY29uc3QgdG1wID0gaGVpZ2h0IC0gbWFyZ2luQm90dG9tO1xuXG4gICAgc3ZnLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAneCBheGlzJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDQwLCcgKyB0bXAgKyAnKScpXG4gICAgICAuY2FsbCh4QXhpcylcbiAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmF0dHIoJ3knLCAwKVxuICAgICAgLmF0dHIoJ3gnLCA5KVxuICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAncm90YXRlKDkwKScpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0Jyk7XG4gIH1cbiAgcmV0dXJuICdkb25lJztcbn1cbiIsIi8vIFRoaXMgZnVuY3Rpb24gc2hvd3MgbG9hZGluZyBiYXIgd2hlbiBkYXRhIGlzIGxvYWRpbmcuXG5mdW5jdGlvbiBwcm9ncmVzcyhsb2FkaW5nKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcycpLmlubmVySFRNTCA9IGBMb2FkaW5nIGRhdGE6ICR7KGxvYWRpbmcgLyA2ICogMTAwKS50b0ZpeGVkKDApIH0lYDtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzJykuc3R5bGUud2lkdGggPSBgJHsobG9hZGluZyAvIDYpICogMTAwfSVgO1xuICBpZiAobG9hZGluZyA9PSA2IHx8IGxvYWRpbmcgPT0gMCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy1iYXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy1iYXInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxufVxuIiwiLy8gVXNlciBpbnB1dHMgZnJvbSByYWRpb2J1dG9uc1xuLyogZXNsaW50IG5vLXVuZGVmOiAgMCAqL1xuZnVuY3Rpb24gZHJhd0NoYXJ0c1NlbGVjdE1vbnRocyhudW1iZXJNb250aHMpIHtcbiAgaWYgKGxvYWRpbmcgPT0gNikgeyAvLyBwcmV2ZW50IHN0YXJ0aW5nIHRoaXMgZnVuY3Rpb25zIHdoaWxlIHVzZXIgaXMgY2xpY2tpbmcgb24gcmFkaW8gYnV0dG9ucyB0byBmYXN0XG4gICAgbG9hZGluZyA9IDA7XG4gICAgZHJhd0NoYXJ0cyhzZXREYXRlU2NvcGUobnVtYmVyTW9udGhzKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsZGF0YSgpIHtcbiAgaWYgKGxvYWRpbmcgPT0gNikge1xuICAgIGxvYWRpbmcgPSAwO1xuICAgIGRyYXdDaGFydHMoJzIwMTctMDctMDEnKTtcbiAgfVxufVxuIiwiZnVuY3Rpb24gc2V0RGF0ZVNjb3BlKHBlcmlvZCkge1xuICAgIHZhciBkID0gbmV3IERhdGUoKVxuXG4gICAgZC5zZXRNb250aChkLmdldE1vbnRoKCkgLSBwZXJpb2QpO1xuICAgIHJldHVybiBkLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCk7XG59XG5cblxuZnVuY3Rpb24gc2V0RGF0ZShkYXRlLCB0eXBlKSB7XG4gICAgXG4gICAgbGV0IHN0YXJ0RGF0ZT0nJnN0YXJ0X2RhdGU9JytkYXRlXG4gICAgXG4gICAgbGV0IGJpdGNvaW5QcmljZURhdGE9J2h0dHBzOi8vd3d3LnF1YW5kbC5jb20vYXBpL3YzL2RhdGFzZXRzL0JJVFNUQU1QL1VTRC5jc3Y/YXBpX2tleT1memFuWkMzMjk3SnNpZC1FOHZDRicrc3RhcnREYXRlO1xuICAgIGxldCBldGhlclByaWNlRGF0YT0naHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9FVEhfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJytzdGFydERhdGU7XG4gICAgbGV0IGxpdGVjb2luUHJpY2VEYXRhPSdodHRwczovL3d3dy5xdWFuZGwuY29tL2FwaS92My9kYXRhc2V0cy9HREFYL0xUQ19FVVIuY3N2P2FwaV9rZXk9ZnphblpDMzI5N0pzaWQtRTh2Q0YnK3N0YXJ0RGF0ZTtcbiAgICBcbiAgICBpZiAodHlwZT09J2JpdGNvaW4nKSByZXR1cm4gYml0Y29pblByaWNlRGF0YVxuICAgIGlmICh0eXBlPT0nZXRoZXInKSByZXR1cm4gZXRoZXJQcmljZURhdGFcbiAgICBpZiAodHlwZT09J2xpdGVjb2luJykgcmV0dXJuIGxpdGVjb2luUHJpY2VEYXRhXG4gICAgfSJdfQ==
