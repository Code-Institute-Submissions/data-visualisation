"use strict";var width=340,height=280,marginBottom=50,chartColor="rgb(66, 170, 143)",font="Didact Gothic",fontSize="12",bgcolor="white",loading=0;
"use strict";navigator.onLine||alert("This website need to be connected to internet in order to work properly");
"use strict";function drawCharts(t){drawPriceChart(setDate(t,"ether"),"#ether",width,height,"€"),drawPriceChart(setDate(t,"bitcoin"),"#bitcoin",width,height,"$"),drawPriceChart(setDate(t,"litecoin"),"#litecoin",width,height,"€"),drawVarPriceChart(setDate(t,"ether"),"#ether-var",width,height,"€"),drawVarPriceChart(setDate(t,"bitcoin"),"#bitcoin-var",width,height,"$"),drawVarPriceChart(setDate(t,"litecoin"),"#litecoin-var",width,height,"€")}
"use strict";function drawPriceChart(t,e,n,r,a){queue().defer(d3.csv,t).await(function(t,i){loading+=1,progress(loading),t&&console.log(t);var o=e.substr(1);o.toString(),document.getElementById(o).innerHTML="<p>".concat(i[0].High," ").concat(a," </p>");var c=d3.max(i,function(t){return+t.High}),l=d3.min(i,function(t){return+t.High}),s=d3.min(i,function(t){return t.Date}),d=d3.max(i,function(t){return t.Date}),u=d3.time.scale().domain([new Date(s),new Date(d)]).range([10,n-41]),g=d3.svg.axis().scale(u),f=d3.scale.linear().domain([0,c-l]).range([0,r-10-marginBottom]);if(h){var m=h.select(e);m.exit().remove()}var h=d3.select(e).append("svg").attr("width",n).attr("height",r).style("background-color",bgcolor).append("g");d3.transition().duration(4500);h.selectAll("rect").data(i).enter().append("rect").attr("x",function(t,e){return n-n/i.length-e*((n-50)/i.length)}).attr("y",function(t){return r-marginBottom-f(t.High-l)}).attr("height",function(t){return f(t.High-l)}).attr("width",function(t){return n/i.length}).style("fill","white").append("svg:title").text(function(t){return"Date: ".concat(t.Date," Price: ").concat(t.High)}).append("g"),h.selectAll("rect").transition().duration(1500).style("fill",chartColor),h.selectAll("text").data(i).enter().append("text").text(function(t,e){return parseInt(l+.1*e*(c-l))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,e){return r-marginBottom-fontSize+parseInt(fontSize)-e*((r-marginBottom-fontSize)/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black");var p=r-marginBottom;return h.append("g").attr("class","x axis").attr("transform","translate(40,".concat(p,")")).call(g).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").attr("font-size",fontSize).style("text-anchor","start"),"loaded"})}
"use strict";function drawVarPriceChart(t,n,e,a,r){queue().defer(d3.csv,t).await(function(t,i){loading+=1,progress(loading),t&&console.log(t);var o=n.substr(1);o.toString(),document.getElementById(o).innerHTML="<p>".concat(i[0].Open," ").concat(r," </p>");var c=d3.max(i,function(t){return+t.High-t.Low}).toFixed(1),l=d3.min(i,function(t){return+t.High-t.Low}),s=d3.mean(i,function(t){return+t.High-t.Low}).toFixed(1),u=d3.min(i,function(t){return t.Date}),g=d3.max(i,function(t){return t.Date});document.getElementById("".concat(o,"-stat")).innerHTML='\n      <li class="list-group-item">Dates:</li>\n      <li class="list-group-item">'.concat(u," to ").concat(g,'</li>\n      <li class="list-group-item">Maximal change in price per day: </li>\n      <li class="list-group-item"> ').concat(c," ").concat(r,'</li>\n      <li class="list-group-item">Minimal change in price per day: </li>\n      <li class="list-group-item"> ').concat(l.toFixed(1)," ").concat(r,'</li>\n      <li class="list-group-item">Average Variability in Price:</li>\n      <li class="list-group-item"> ').concat(s," ").concat(r,"</li>\n      "),document.getElementById(o).innerHTML=" <p> Max: ".concat(c," Average: ").concat(s," ").concat(r," </p>");var d=d3.time.scale().domain([new Date(u),new Date(g)]).range([10,e-41]),m=d3.svg.axis().scale(d),f=d3.scale.linear().domain([0,c-l]).range([0,a-10-marginBottom]),p=d3.select(n).append("svg").attr("width",e).attr("height",a).style("background-color",bgcolor);p.selectAll("rect").data(i).enter().append("rect").attr("x",function(t,n){return e-e/i.length-n*((e-50)/i.length)}).attr("y",function(t){return a-marginBottom-f(t.High-t.Low)}).attr("height",function(t){return f(t.High-t.Low)}).attr("width",function(t){return e/i.length}).style("fill","white"),p.selectAll("rect").transition().duration(1500).style("fill",chartColor).transition().duration(3e3).style("fill",function(t){return t.High-t.Low>s?"orange":chartColor}),p.selectAll("text").data(i).enter().append("text").text(function(t,n){return parseInt(l+.1*n*(c-l))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,n){return a-marginBottom-n*((a-marginBottom-fontSize)/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black");var h=a-marginBottom;p.append("g").attr("class","x axis").attr("transform","translate(40,".concat(h,")")).call(m).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").attr("font-size",fontSize).style("text-anchor","start")})}
"use strict";function progress(e){return document.getElementById("progress").innerHTML="Loading data: ".concat((e/6*100).toFixed(0),"%"),document.getElementById("progress").style.width="".concat(e/6*100,"%"),6===e||0===e?(document.getElementById("progress-bar").style.display="none",document.getElementById("wrapper").style.display="block",document.getElementById("loader").style.display="none",document.getElementById("footer").style.display="block","loaded"):(document.getElementById("progress-bar").style.display="block",document.getElementById("wrapper").style.display="none",document.getElementById("loader").style.display="block",document.getElementById("footer").style.display="none","loading")}
"use strict";function drawChartsSelectMonths(a){6==loading&&(loading=0,drawCharts(setDateScope(a)))}function alldata(){6==loading&&(loading=0,drawCharts("2017-07-01"))}
"use strict";function setDateScope(t){var a=new Date;return a.setMonth(a.getMonth()-t),a.toISOString().slice(0,10)}function setDate(t,a){var e="&start_date=".concat(t),n="https://www.quandl.com/api/v3/datasets/BITSTAMP/USD.csv?api_key=fzanZC3297Jsid-E8vCF".concat(e),s="https://www.quandl.com/api/v3/datasets/GDAX/ETH_EUR.csv?api_key=fzanZC3297Jsid-E8vCF".concat(e),c="https://www.quandl.com/api/v3/datasets/GDAX/LTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF".concat(e);return"bitcoin"===a?n:"ether"===a?s:"litecoin"===a?c:void 0}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LXNldHRpbmdzLWFuZC1kYXRhLmpzIiwiZHJhdy1jaGFydC5qcyIsImZ1bmN0aW9ucy9kcmF3Q2hhcnRzLmpzIiwiZnVuY3Rpb25zL2RyYXdQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL2RyYXdWYXJQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL3Byb2dyZXNzLmpzIiwiZnVuY3Rpb25zL3JhZGlvYnV0dG9ucy5qcyIsImZ1bmN0aW9ucy9zZXREYXRlLmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwibWFyZ2luQm90dG9tIiwiY2hhcnRDb2xvciIsImZvbnQiLCJmb250U2l6ZSIsImJnY29sb3IiLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJhbGVydCIsImRyYXdDaGFydHMiLCJkYXRlIiwiZHJhd1ByaWNlQ2hhcnQiLCJzZXREYXRlIiwiZHJhd1ZhclByaWNlQ2hhcnQiLCJkYXRhIiwiaWQiLCJjdXJyZW5jeSIsInF1ZXVlIiwiZGVmZXIiLCJlcnJvciIsInRyYW5zYWN0aW9uc0RhdGEiLCJsb2FkaW5nIiwicHJvZ3Jlc3MiLCJjb25zb2xlIiwibG9nIiwic3Vic3RyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImEiLCJpbm5lckhUTUwiLCJjb25jYXQiLCJIaWdoIiwidG9TdHJpbmciLCJkMyIsIm1heCIsImQiLCJEYXRlIiwibGFzdERhdGUiLCJtaW4iLCJkb21haW4iLCJmaXJzdERhdGUiLCJyYW5nZSIsInhBeGlzIiwic3ZnIiwiYXhpcyIsInNjYWxlIiwieCIsImxpbmVhciIsInRpbWUiLCJwYXRoIiwic2VsZWN0IiwiZXhpdCIsInJlbW92ZSIsImF0dHIiLCJzdHlsZSIsImFwcGVuZCIsInRyYW5zaXRpb24iLCJzZWxlY3RBbGwiLCJlbnRlciIsImkiLCJsZW5ndGgiLCJ0ZXh0IiwicGFyc2VJbnQiLCJkdXJhdGlvbiIsInRtcCIsImNhbGwiLCJjc3YiLCJhd2FpdCIsIm1ha2VHcmFwaHMiLCJPcGVuIiwiTG93IiwidG9GaXhlZCIsIm1lYW4iLCJhdmciLCJkaXNwbGF5IiwiZHJhd0NoYXJ0c1NlbGVjdE1vbnRocyIsIm51bWJlck1vbnRocyIsInNldERhdGVTY29wZSIsInBlcmlvZCIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwic3RhcnREYXRlIiwidHlwZSIsImJpdGNvaW5QcmljZURhdGEiLCJsaXRlY29pblByaWNlRGF0YSIsImV0aGVyUHJpY2VEYXRhIl0sIm1hcHBpbmdzIjoiYUFFQSxJQUFBQSxNQUFBLElBRU1BLE9BQU4sSUFDTUMsYUFBTixHQUNNQyxXQUFlLG9CQUNmQyxLQUFBQSxnQkFDQUMsU0FBTyxLQUNQQyxRQUFXLFFBQ1hDLFFBQVU7YUNIaEJDLFVBQUFDLFFBQ0dDLE1BQUNGO2FDUEosU0FBU0csV0FBV0MsR0FEcEJDLGVBQUFDLFFBQUFGLEVBQUEsU0FBQSxTQUFBWCxNQUFBQyxPQUFBLEtBQ0FXLGVBQVNGLFFBQVRDLEVBQTBCLFdBQUEsV0FBQVgsTUFBQUMsT0FBQSxLQUN4QlcsZUFBZUMsUUFBUUYsRUFBTSxZQUFVLFlBQXpCWCxNQUFBQyxPQUFkLEtBRUFXLGtCQUFlQyxRQUFRRixFQUFNLFNBQWEsYUFBYVgsTUFBT0MsT0FBUSxLQUV0RWEsa0JBQWtCRCxRQUFRRixFQUFNLFdBQVUsZUFBY1gsTUFBT0MsT0FBL0QsS0FDQWEsa0JBQWtCRCxRQUFRRixFQUFNLFlBQVksZ0JBQWdCWCxNQUFPQyxPQUFRO2FDSjdFLFNBQVNXLGVBQWVHLEVBQU1DLEVBQUloQixFQUFPQyxFQUFRZ0IsR0FGakRDLFFBRUFDLE1BQVNQLEdBQUFBLElBQUFBLEdBQ1BNLE1BSUEsU0FBb0JFLEVBQU9DLEdBQ3pCQyxTQUFXLEVBQ1hDLFNBQVNELFNBQ0xGLEdBQVNJLFFBQVFDLElBQUlMLEdBQXpCLElBQUlBLEVBQUpKLEVBQVdVLE9BQUEsR0FBRUYsRUFBQUEsV0FBcUJHLFNBQUFDLGVBQUFDLEdBQUFDLFVBQUEsTUFBQUMsT0FBQVYsRUFBQSxHQUFBVyxLQUFBLEtBQUFELE9B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QVNrRSxhQUFBQSxLQUdMbEUsU0FBQUEsVUFDRCxHQUFBWSxVQUNGQSxRQUFBLEVBS0daLFdBQVc7YUNaZixTQUFBb0UsYUFBQUMsR0FFQSxJQUFBM0MsRUFBUzBDLElBQUFBLEtBSVAsT0FEQTFDLEVBQUU0QyxTQUFTNUMsRUFBRTZDLFdBQWFGLEdBQ25CM0MsRUFBRThDLGNBQWNDLE1BQU0sRUFBRyxJQUtoQyxTQUFNQyxRQUFTekUsRUFBQTBFLEdBRWYsSUFBTUMsRUFBQUEsZUFBQUEsT0FBZ0IzRSxHQUVoQjRFLEVBQWlCLHVGQUFBeEQsT0FBQXFELEdBRW5CQyxFQUFTLHVGQUFBdEQsT0FBV3FELEdBQ3BCQyxFQUFrQix1RkFBQXRELE9BQUFxRCxHQUV2QixNQUFBLFlBQUFDLEVBQUFDLEVBRmMsVUFBVEQsRUFBeUJHLEVBQ2hCLGFBQVRILEVBQTRCRSxPQUFoQyIsImZpbGUiOiJ2YXJpYWJpbGl0eS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogMCAqL1xuLy8gVGhpcyBqYXZhc2NyaXB0IGZpbGUgaXMgbG9hZGVkIGZpcnN0LlxuLy8gQ2hhcnRzIGNvbmZpZ1xuXG5jb25zdCB3aWR0aCA9IDM0MDtcbmNvbnN0IGhlaWdodCA9IDI4MDtcbmNvbnN0IG1hcmdpbkJvdHRvbSA9IDUwO1xuY29uc3QgY2hhcnRDb2xvciA9ICdyZ2IoNjYsIDE3MCwgMTQzKSc7XG5jb25zdCBmb250ID0gJ0RpZGFjdCBHb3RoaWMnO1xuY29uc3QgZm9udFNpemUgPSAnMTInO1xuY29uc3QgYmdjb2xvciA9ICd3aGl0ZSc7XG5jb25zdCBsb2FkaW5nID0gMDtcbiIsIi8vIFRoaXMgamF2YXNjcmlwdCBmaWxlIGlzIGxhc3QuXG4vLyBJbml0aWFsaXphdGlvbiBmdW5jdGlvbnMgb24gcGFnZSBzdGFydC5cblxuLy8gV2hlbiBwYWdlIGlzIGxvYWRpbmcgZmlyc3QgdGltZSBsb2FkIHByZXNldCB3aXRoIGFsbCBkYXRhIGZvciBjaGFydHMuXG4vKiBlc2xpbnQgbm8tdW5kZWY6IDAgKi9cbi8vIGRyYXdDaGFydHMoJzIwMTctMDctMDEnKTsgPC0gbW92ZSB0aGlzIHRvIGxvYWQgZnJvbSBodG1sXG5cbi8vIENoZWNrIGlmIHRoZSBicm93c2VyIGlzIG9mZmxpbmVcbmlmKCFuYXZpZ2F0b3Iub25MaW5lKSB7XG4gICAgYWxlcnQoJ1RoaXMgd2Vic2l0ZSBuZWVkIHRvIGJlIGNvbm5lY3RlZCB0byBpbnRlcm5ldCBpbiBvcmRlciB0byB3b3JrIHByb3Blcmx5Jylcbn1cbiIsIi8qIGVzbGludCBuby11bmRlZjogMCBuby11bnVzZWQtdmFyczogMCAqL1xuZnVuY3Rpb24gZHJhd0NoYXJ0cyhkYXRlKSB7XG4gIGRyYXdQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwgJ2V0aGVyJyksICcjZXRoZXInLCB3aWR0aCwgaGVpZ2h0LCAn4oKsJyk7XG4gIGRyYXdQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwgJ2JpdGNvaW4nKSwgJyNiaXRjb2luJywgd2lkdGgsIGhlaWdodCwgJyQnKTtcbiAgZHJhd1ByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCAnbGl0ZWNvaW4nKSwgJyNsaXRlY29pbicsIHdpZHRoLCBoZWlnaHQsICfigqwnKTtcblxuICBkcmF3VmFyUHJpY2VDaGFydChzZXREYXRlKGRhdGUsICdldGhlcicpLCAnI2V0aGVyLXZhcicsIHdpZHRoLCBoZWlnaHQsICfigqwnKTtcbiAgZHJhd1ZhclByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCAnYml0Y29pbicpLCAnI2JpdGNvaW4tdmFyJywgd2lkdGgsIGhlaWdodCwgJyQnKTtcbiAgZHJhd1ZhclByaWNlQ2hhcnQoc2V0RGF0ZShkYXRlLCAnbGl0ZWNvaW4nKSwgJyNsaXRlY29pbi12YXInLCB3aWR0aCwgaGVpZ2h0LCAn4oKsJyk7XG59XG4iLCIvLyBUaGlzIGZ1bmN0aW9uIGRyYXcgcHJpY2UgY2hhcnRcbi8qIGVzbGludCBuby11bmRlZjogMCBuby11bnVzZWQtdmFyczowICovXG5cbmZ1bmN0aW9uIGRyYXdQcmljZUNoYXJ0KGRhdGEsIGlkLCB3aWR0aCwgaGVpZ2h0LCBjdXJyZW5jeSkge1xuICBxdWV1ZSgpXG4gICAgLmRlZmVyKGQzLmNzdiwgZGF0YSlcbiAgICAuYXdhaXQobWFrZUdyYXBocyk7XG5cbiAgZnVuY3Rpb24gbWFrZUdyYXBocyhlcnJvciwgdHJhbnNhY3Rpb25zRGF0YSkge1xuICAgIGxvYWRpbmcgKz0gMTtcbiAgICBwcm9ncmVzcyhsb2FkaW5nKTtcbiAgICBpZiAoZXJyb3IpIHsgY29uc29sZS5sb2coZXJyb3IpOyB9XG4gICAgY29uc3QgYSA9IGlkLnN1YnN0cigxKTtcbiAgICBhLnRvU3RyaW5nKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYDxwPiR7dHJhbnNhY3Rpb25zRGF0YVswXS5IaWdofSAke2N1cnJlbmN5fSA8L3A+YDtcblxuXG4gICAgY29uc3QgbWF4ID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCk7XG4gICAgY29uc3QgbWluID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCk7XG4gICAgY29uc3QgZmlyc3REYXRlID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gZC5EYXRlKTtcbiAgICBjb25zdCBsYXN0RGF0ZSA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+IGQuRGF0ZSk7XG5cbiAgICBjb25zdCB4ID0gZDMudGltZS5zY2FsZSgpXG4gICAgICAuZG9tYWluKFtuZXcgRGF0ZShmaXJzdERhdGUpLCBuZXcgRGF0ZShsYXN0RGF0ZSldKVxuICAgICAgLnJhbmdlKFsxMCwgd2lkdGggLSA0MV0pOyAvLyBMZWZ0IHJpZ2h0IHBvc2l0aW9uIGZvciBkYXRlIGNoYXJ0XG5cbiAgICBjb25zdCB4QXhpcyA9IGQzLnN2Zy5heGlzKClcbiAgICAgIC5zY2FsZSh4KTtcblxuXG4gICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxuICAgICAgLmRvbWFpbihbMCwgbWF4IC0gbWluXSkgLy8gQm91bmRhcmllcyBmb3IgY2hhcnRcbiAgICAgIC5yYW5nZShbMCwgaGVpZ2h0IC0gMTAgLSBtYXJnaW5Cb3R0b21dKTsgLy8gYm91bmRhcmllcyBmb3IgZGF0YVxuXG4gICAgaWYgKHN2Zykge1xuICAgICAgY29uc3QgcGF0aCA9IHN2Zy5zZWxlY3QoaWQpO1xuICAgICAgcGF0aC5leGl0KCkucmVtb3ZlKCk7XG4gICAgfVxuICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChpZClcbiAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXG4gICAgICAuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBiZ2NvbG9yKVxuICAgICAgLy8gLmNhbGwoZDMuYmVoYXZpb3Iuem9vbSgpLm9uKFwiem9vbVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKGQzLmV2ZW50LnRyYW5zbGF0ZSlcbiAgICAgIC8vICAgc3ZnLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBkMy5ldmVudC50cmFuc2xhdGUgKyBcIilcIiArIFwiIHNjYWxlKFwiICsgZDMuZXZlbnQuc2NhbGUgKyBcIilcIilcbiAgICAgIC8vIH0pKVxuICAgICAgLmFwcGVuZCgnZycpO1xuICAgIGNvbnN0IHQgPSBkM1xuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDQ1MDApO1xuXG4gICAgLy8gQmFyc1xuICAgIHN2Zy5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdyZWN0JykgLy8gYXBwZW5kIHN2ZyB0byBkaXZcblxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gd2lkdGggLSB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoIC0gKGkgKiAoKHdpZHRoIC0gNTApIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiBoZWlnaHQgLSBtYXJnaW5Cb3R0b20gLSBzY2FsZShkLkhpZ2ggLSBtaW4pKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gc2NhbGUoZC5IaWdoIC0gbWluKSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGQgPT4gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aClcbiAgICAgIC5zdHlsZSgnZmlsbCcsICd3aGl0ZScpXG4gICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKVxuICAgICAgLnRleHQoZCA9PiBgRGF0ZTogJHtkLkRhdGV9IFByaWNlOiAke2QuSGlnaH1gKVxuXG4gICAgICAuYXBwZW5kKCdnJyk7XG5cblxuICAgIHN2Zy5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDE1MDApXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBjaGFydENvbG9yKTtcblxuXG4gICAgLy8gUHJpY2VcbiAgICBzdmcuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAudGV4dCgoZCwgaSkgPT4gcGFyc2VJbnQobWluICsgKChtYXggLSBtaW4pICogKGkgKiAwLjEpKSkpXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5hdHRyKCd4JywgKCkgPT4gMjApXG4gICAgICAuYXR0cigneScsIChkLCBpKSA9PiBoZWlnaHQgLSBtYXJnaW5Cb3R0b20gLSBmb250U2l6ZSArIHBhcnNlSW50KGZvbnRTaXplKSAtIChpICogKChoZWlnaHQgLSBtYXJnaW5Cb3R0b20gLSBmb250U2l6ZSkgLyAxMCkpKVxuICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgZm9udClcbiAgICAgIC5hdHRyKCdmb250LXNpemUnLCBmb250U2l6ZSlcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJyk7XG5cbiAgICAvLyBEYXRlXG4gICAgY29uc3QgdG1wID0gaGVpZ2h0IC0gbWFyZ2luQm90dG9tO1xuXG4gICAgc3ZnLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAneCBheGlzJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDQwLCR7dG1wfSlgKVxuICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgIC5hdHRyKCd5JywgMClcbiAgICAgIC5hdHRyKCd4JywgOSlcbiAgICAgIC5hdHRyKCdkeScsICcuMzVlbScpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSg5MCknKVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpO1xuICAgICAgcmV0dXJuIFwibG9hZGVkXCJcbiAgfVxuXG4gXG59XG4iLCIvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IDAgbm8tdW5kZWY6IDAgKi9cbi8vIERyYXcgcHJpY2UgY2hhcnRcblxuZnVuY3Rpb24gZHJhd1ZhclByaWNlQ2hhcnQoZGF0YSwgaWQsIHdpZHRoLCBoZWlnaHQsIGN1cnJlbmN5KSB7XG4gIGZ1bmN0aW9uIG1ha2VHcmFwaHMoZXJyb3IsIHRyYW5zYWN0aW9uc0RhdGEpIHtcbiAgICBsb2FkaW5nICs9IDE7XG4gICAgcHJvZ3Jlc3MobG9hZGluZyk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gICAgY29uc3QgYSA9IGlkLnN1YnN0cigxKTtcbiAgICBhLnRvU3RyaW5nKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYDxwPiR7dHJhbnNhY3Rpb25zRGF0YVswXS5PcGVufSAke2N1cnJlbmN5fSA8L3A+YDtcblxuXG4gICAgY29uc3QgbWF4ID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCAtIGQuTG93KS50b0ZpeGVkKDEpO1xuICAgIGNvbnN0IG1pbiA9IGQzLm1pbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2ggLSBkLkxvdyk7XG4gICAgY29uc3QgYXZnID0gZDMubWVhbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2ggLSBkLkxvdykudG9GaXhlZCgxKTtcbiAgICBjb25zdCBmaXJzdERhdGUgPSBkMy5taW4odHJhbnNhY3Rpb25zRGF0YSwgZCA9PiBkLkRhdGUpO1xuICAgIGNvbnN0IGxhc3REYXRlID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gZC5EYXRlKTtcblxuICAgIC8vIFByaW50IHN0YXRzXG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHthfS1zdGF0YCkuaW5uZXJIVE1MID0gYFxuICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+RGF0ZXM6PC9saT5cbiAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPiR7Zmlyc3REYXRlfSB0byAke2xhc3REYXRlfTwvbGk+XG4gICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj5NYXhpbWFsIGNoYW5nZSBpbiBwcmljZSBwZXIgZGF5OiA8L2xpPlxuICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+ICR7bWF4fSAke2N1cnJlbmN5fTwvbGk+XG4gICAgICA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj5NaW5pbWFsIGNoYW5nZSBpbiBwcmljZSBwZXIgZGF5OiA8L2xpPlxuICAgICAgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+ICR7bWluLnRvRml4ZWQoMSl9ICR7Y3VycmVuY3l9PC9saT5cbiAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPkF2ZXJhZ2UgVmFyaWFiaWxpdHkgaW4gUHJpY2U6PC9saT5cbiAgICAgIDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPiAke2F2Z30gJHtjdXJyZW5jeX08L2xpPlxuICAgICAgYDtcblxuXG4gICAgLy8gbWluID0gbWluLnRvRml4ZWQoMCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYCA8cD4gTWF4OiAke21heH0gQXZlcmFnZTogJHthdmd9ICR7Y3VycmVuY3l9IDwvcD5gO1xuXG5cbiAgICBjb25zdCB4ID0gZDMudGltZS5zY2FsZSgpXG4gICAgICAuZG9tYWluKFtuZXcgRGF0ZShmaXJzdERhdGUpLCBuZXcgRGF0ZShsYXN0RGF0ZSldKVxuICAgICAgLnJhbmdlKFsxMCwgd2lkdGggLSA0MV0pOyAvLyBMZWZ0IHJpZ2h0IHBvc2l0aW9uIGZvciBkYXRlIGNoYXJ0XG5cbiAgICBjb25zdCB4QXhpcyA9IGQzLnN2Zy5heGlzKClcbiAgICAgIC5zY2FsZSh4KTtcblxuXG4gICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxuICAgICAgLmRvbWFpbihbMCwgbWF4IC0gbWluXSkgLy8gQm91bmRhcmllcyBmb3IgY2hhcnRcbiAgICAgIC5yYW5nZShbMCwgaGVpZ2h0IC0gMTAgLSBtYXJnaW5Cb3R0b21dKTsgLy8gYm91bmRhcmllcyBmb3IgZGF0YVxuXG4gICAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KGlkKVxuICAgICAgLmFwcGVuZCgnc3ZnJylcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodClcbiAgICAgIC5zdHlsZSgnYmFja2dyb3VuZC1jb2xvcicsIGJnY29sb3IpO1xuXG5cbiAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncmVjdCcpIC8vIGFwcGVuZCBzdmcgdG8gZGl2XG4gICAgICAuYXR0cigneCcsIChkLCBpKSA9PiB3aWR0aCAtIHdpZHRoIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGggLSAoaSAqICgod2lkdGggLSA1MCkgLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCkpKVxuICAgICAgLmF0dHIoJ3knLCBkID0+IGhlaWdodCAtIG1hcmdpbkJvdHRvbSAtIHNjYWxlKGQuSGlnaCAtIGQuTG93KSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IHNjYWxlKGQuSGlnaCAtIGQuTG93KSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGQgPT4gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aClcbiAgICAgIC5zdHlsZSgnZmlsbCcsICd3aGl0ZScpO1xuXG5cbiAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxNTAwKVxuICAgICAgLnN0eWxlKCdmaWxsJywgY2hhcnRDb2xvcilcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigzMDAwKVxuICAgICAgLnN0eWxlKCdmaWxsJywgKGQpID0+IHtcbiAgICAgICAgaWYgKGQuSGlnaCAtIGQuTG93ID4gYXZnKSB7IC8vIFRocmVzaG9sZCBvZiAxNVxuICAgICAgICAgIHJldHVybiAnb3JhbmdlJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhcnRDb2xvcjtcbiAgICAgIH0pO1xuXG4gICAgLy8gUHJpY2VcbiAgICBzdmcuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAudGV4dCgoZCwgaSkgPT4gcGFyc2VJbnQobWluICsgKChtYXggLSBtaW4pICogKGkgKiAwLjEpKSkpXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5hdHRyKCd4JywgKCkgPT4gMjApXG4gICAgICAuYXR0cigneScsIChkLCBpKSA9PiBoZWlnaHQgLSBtYXJnaW5Cb3R0b20gLSAoaSAqICgoaGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gZm9udFNpemUpIC8gMTApKSlcbiAgICAgIC5hdHRyKCdmb250LWZhbWlseScsIGZvbnQpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpO1xuXG4gICAgLy8gRGF0ZVxuICAgIGNvbnN0IHRtcCA9IGhlaWdodCAtIG1hcmdpbkJvdHRvbTtcblxuICAgIHN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3ggYXhpcycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSg0MCwke3RtcH0pYClcbiAgICAgIC5jYWxsKHhBeGlzKVxuICAgICAgLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuYXR0cigneScsIDApXG4gICAgICAuYXR0cigneCcsIDkpXG4gICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICdyb3RhdGUoOTApJylcbiAgICAgIC5hdHRyKCdmb250LXNpemUnLCBmb250U2l6ZSlcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnc3RhcnQnKTtcbiAgfVxuXG4gIHF1ZXVlKClcbiAgICAuZGVmZXIoZDMuY3N2LCBkYXRhKVxuICAgIC5hd2FpdChtYWtlR3JhcGhzKTtcbn1cbiIsIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogMCAqL1xuLy8gVGhpcyBmdW5jdGlvbiBzaG93cyBsb2FkaW5nIGJhciB3aGVuIGRhdGEgaXMgbG9hZGluZy5cbmZ1bmN0aW9uIHByb2dyZXNzKGxvYWRpbmcpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzJykuaW5uZXJIVE1MID0gYExvYWRpbmcgZGF0YTogJHsobG9hZGluZyAvIDYgKiAxMDApLnRvRml4ZWQoMCl9JWA7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcycpLnN0eWxlLndpZHRoID0gYCR7KGxvYWRpbmcgLyA2KSAqIDEwMH0lYDtcbiAgaWYgKGxvYWRpbmcgPT09IDYgfHwgbG9hZGluZyA9PT0gMCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy1iYXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvb3RlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHJldHVybiAnbG9hZGVkJztcbiAgfVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MtYmFyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vdGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICByZXR1cm4gJ2xvYWRpbmcnO1xufVxuIiwiLy8gVXNlciBpbnB1dHMgZnJvbSByYWRpb2J1dG9uc1xuLyogZXNsaW50IG5vLXVuZGVmOiAgMCAqL1xuZnVuY3Rpb24gZHJhd0NoYXJ0c1NlbGVjdE1vbnRocyhudW1iZXJNb250aHMpIHtcbiAgaWYgKGxvYWRpbmcgPT0gNikgeyAvLyBwcmV2ZW50IHN0YXJ0aW5nIHRoaXMgZnVuY3Rpb25zIHdoaWxlIHVzZXIgaXMgY2xpY2tpbmcgb24gcmFkaW8gYnV0dG9ucyB0byBmYXN0XG4gICAgbG9hZGluZyA9IDA7XG4gICAgZHJhd0NoYXJ0cyhzZXREYXRlU2NvcGUobnVtYmVyTW9udGhzKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsZGF0YSgpIHtcbiAgaWYgKGxvYWRpbmcgPT0gNikge1xuICAgIGxvYWRpbmcgPSAwO1xuICAgIGRyYXdDaGFydHMoJzIwMTctMDctMDEnKTtcbiAgfVxufVxuIiwiLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiAwICovXG5cbmZ1bmN0aW9uIHNldERhdGVTY29wZShwZXJpb2QpIHtcbiAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XG5cbiAgZC5zZXRNb250aChkLmdldE1vbnRoKCkgLSBwZXJpb2QpO1xuICByZXR1cm4gZC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbn1cblxuXG5mdW5jdGlvbiBzZXREYXRlKGRhdGUsIHR5cGUpIHtcbiAgY29uc3Qgc3RhcnREYXRlID0gYCZzdGFydF9kYXRlPSR7ZGF0ZX1gO1xuXG4gIGNvbnN0IGJpdGNvaW5QcmljZURhdGEgPSBgaHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvQklUU1RBTVAvVVNELmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJHtzdGFydERhdGV9YDtcbiAgY29uc3QgZXRoZXJQcmljZURhdGEgPSBgaHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9FVEhfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJHtzdGFydERhdGV9YDtcbiAgY29uc3QgbGl0ZWNvaW5QcmljZURhdGEgPSBgaHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9MVENfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJHtzdGFydERhdGV9YDtcblxuICBpZiAodHlwZSA9PT0gJ2JpdGNvaW4nKSByZXR1cm4gYml0Y29pblByaWNlRGF0YTtcbiAgaWYgKHR5cGUgPT09ICdldGhlcicpIHJldHVybiBldGhlclByaWNlRGF0YTtcbiAgaWYgKHR5cGUgPT09ICdsaXRlY29pbicpIHJldHVybiBsaXRlY29pblByaWNlRGF0YTtcbn1cbiJdfQ==
