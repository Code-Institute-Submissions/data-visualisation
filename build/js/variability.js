"use strict";var width=300,height=200,marginBottom=50,chartColor="rgb(66, 170, 143)",font="Didact Gothic",fontSize="10",bgcolor="white";
"use strict";function drawCharts(t){drawPriceChart(setDate(t,"ether"),"#ether",width,height,"Euro"),drawPriceChart(setDate(t,"bitcoin"),"#bitcoin",width,height,"$"),drawPriceChart(setDate(t,"litecoin"),"#litecoin",width,height,"Euro"),drawVarPriceChart(setDate(t,"ether"),"#ether-var",width,height,"Euro"),drawVarPriceChart(setDate(t,"bitcoin"),"#bitcoin-var",width,height,"$"),drawVarPriceChart(setDate(t,"litecoin"),"#litecoin-var",width,height,"Euro")}function year(){drawCharts(setDateScope(12))}function half(){drawCharts(setDateScope(6))}function quater(){drawCharts(setDateScope(3))}function month(){drawCharts(setDateScope(1))}function alldata(){drawCharts("2017-06-01")}console.log(setDateScope(3)),alldata();
"use strict";function drawPriceChart(t,e,n,r,a){queue().defer(d3.csv,t).await(function(t,o){t&&console.log(t);var i,c,l,s,u=e.substr(1);u.toString(),document.getElementById(u).innerHTML="<p>".concat(o[0].High," ").concat(a," </p>"),i=d3.max(o,function(t){return+t.High}),c=d3.min(o,function(t){return+t.High}),l=d3.min(o,function(t){return t.Date}),s=d3.max(o,function(t){return t.Date});var d=d3.time.scale().domain([new Date(l),new Date(s)]).range([10,n-41]),g=d3.svg.axis().scale(d),f=d3.scale.linear().domain([0,i-c]).range([0,r-10-marginBottom]);if(h){var m=h.select(e);m.exit().remove(),console.log("there is svg")}var h=d3.select(e).append("svg").attr("width",n).attr("height",r).style("background-color",bgcolor);d3.transition().duration(4500);console.log(o.length),h.selectAll("rect").data(o).enter().append("rect").attr("x",function(t,e){return n-n/o.length-e*((n-50)/o.length)}).attr("y",function(t){return r-marginBottom-f(t.High-c)}).attr("height",function(t){return f(t.High-c)}).attr("width",function(t){return n/o.length}).style("fill","white").append("svg:title").text(function(t){return"Date: ".concat(t.Date," Price: ").concat(t.High)}).append("g"),h.selectAll("rect").transition().duration(1500).style("fill",chartColor),h.selectAll("text").data(o).enter().append("text").text(function(t,e){return parseInt(c+.1*e*(i-c))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,e){return r-marginBottom-fontSize+parseInt(fontSize)-e*((r-marginBottom-fontSize)/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black");var p=r-marginBottom;h.append("g").attr("class","x axis").attr("transform","translate(40,"+p+")").call(g).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").attr("font-size",fontSize).style("text-anchor","start")})}
"use strict";function drawVarPriceChart(t,n,e,r,a){queue().defer(d3.csv,t).await(function(t,o){t&&console.log(t);var i,c,l,u,d=n.substr(1);d.toString(),document.getElementById(d).innerHTML="<p>".concat(o[0].Open," ").concat(a," </p>"),i=d3.max(o,function(t){return+t.High-t.Low}),c=d3.min(o,function(t){return+t.High-t.Low});var s=d3.mean(o,function(t){return+t.High-t.Low});l=d3.min(o,function(t){return t.Date}),u=d3.max(o,function(t){return t.Date}),s=s.toFixed(0),i=i.toFixed(0),document.getElementById(d).innerHTML=" <p> Max: ".concat(i," Average: ").concat(s," ").concat(a," </p>");var f=d3.time.scale().domain([new Date(l),new Date(u)]).range([10,e-41]),g=d3.svg.axis().scale(f),m=d3.scale.linear().domain([0,i-c]).range([0,r-10-marginBottom]),h=d3.select(n).append("svg").attr("width",e).attr("height",r).style("background-color",bgcolor);h.selectAll("rect").data(o).enter().append("rect").attr("x",function(t,n){return e+0-e/o.length-n*((e-50)/o.length)}).attr("y",function(t){return r-marginBottom-m(t.High-t.Low)}).attr("height",function(t){return m(t.High-t.Low)}).attr("width",function(t){return e/o.length}).style("fill","white"),h.selectAll("rect").transition().duration(1500).style("fill",chartColor).transition().duration(3e3).style("fill",function(t){return t.High-t.Low>s?"orange":chartColor}),h.selectAll("text").data(o).enter().append("text").text(function(t,n){return parseInt(c+.1*n*(i-c))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,n){return r-marginBottom-n*((r-marginBottom-fontSize)/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black");var x=r-marginBottom;h.append("g").attr("class","x axis").attr("transform","translate(40,"+x+")").call(g).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").attr("font-size",fontSize).style("text-anchor","start")})}
"use strict";function setDateScope(t){var a=new Date;return a.setMonth(a.getMonth()-t),a.toISOString().slice(0,10)}function setDate(t,a){var e="&start_date="+t;return"bitcoin"==a?"https://www.quandl.com/api/v3/datasets/BITSTAMP/USD.csv?api_key=fzanZC3297Jsid-E8vCF"+e:"ether"==a?"https://www.quandl.com/api/v3/datasets/GDAX/ETH_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+e:"litecoin"==a?"https://www.quandl.com/api/v3/datasets/GDAX/LTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+e:void 0}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LXNldHRpbmdzLWFuZC1kYXRhLmpzIiwiZHJhdy1jaGFydC5qcyIsImZ1bmN0aW9ucy9kcmF3UHJpY2VDaGFydC5qcyIsImZ1bmN0aW9ucy9kcmF3VmFyUHJpY2VDaGFydC5qcyIsImZ1bmN0aW9ucy9zZXREYXRlLmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwibWFyZ2luQm90dG9tIiwiY2hhcnRDb2xvciIsImZvbnQiLCJkcmF3Q2hhcnRzIiwiZGF0ZSIsImRyYXdQcmljZUNoYXJ0Iiwic2V0RGF0ZSIsImRyYXdWYXJQcmljZUNoYXJ0Iiwic2V0RGF0ZVNjb3BlIiwibW9udGgiLCJhbGxkYXRhIiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJpZCIsImN1cnJlbmN5IiwicXVldWUiLCJkZWZlciIsImQzIiwiY3N2IiwiYXdhaXQiLCJlcnJvciIsInRyYW5zYWN0aW9uc0RhdGEiLCJtYXgiLCJtaW4iLCJmaXJzdERhdGUiLCJsYXN0RGF0ZSIsImEiLCJzdWJzdHIiLCJ0b1N0cmluZyIsImlubmVySFRNTCIsIkhpZ2giLCJkIiwiRGF0ZSIsIngiLCJzY2FsZSIsImRvbWFpbiIsInhBeGlzIiwic3ZnIiwiYXhpcyIsImxpbmVhciIsInJhbmdlIiwicGF0aCIsInNlbGVjdCIsImV4aXQiLCJyZW1vdmUiLCJhcHBlbmQiLCJhdHRyIiwic3R5bGUiLCJkdXJhdGlvbiIsImxlbmd0aCIsInNlbGVjdEFsbCIsImVudGVyIiwicGFyc2VJbnQiLCJpIiwidGV4dCIsImNvbmNhdCIsInRyYW5zaXRpb24iLCJmb250U2l6ZSIsInRtcCIsImNhbGwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiT3BlbiIsIkxvdyIsImF2ZyIsIm1lYW4iLCJ0b0ZpeGVkIiwiYmdjb2xvciIsInBlcmlvZCIsInNldE1vbnRoIiwic2xpY2UiLCJ0eXBlIiwiYml0Y29pblByaWNlRGF0YSIsInN0YXJ0RGF0ZSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBQUEsTUFBQSxJQUNBQyxPQUFBLElBQ01ELGFBQU4sR0FDTUMsV0FBTixvQkFDTUMsS0FBQUEsZ0JBQ0FDLFNBQVcsS0FDWEMsUUFBTzthQ05iLFNBQUFDLFdBQUFDLEdBRUFDLGVBQVNGLFFBQVdDLEVBQU0sU0FBQSxTQUFBTixNQUFBQyxPQUFBLFFBQzFCTSxlQUFBQSxRQUFlQyxFQUFRRixXQUFULFdBQUFOLE1BQUFDLE9BQUEsS0FDZE0sZUFBQUEsUUFBZUMsRUFBUUYsWUFBRCxZQUFpQk4sTUFBV0EsT0FBTUMsUUFHeERRLGtCQUFBQSxRQUFrQkQsRUFBUUYsU0FBSyxhQUFTTixNQUFhQSxPQUFNQyxRQUMzRFEsa0JBQUFBLFFBQWtCRCxFQUFRRixXQUFLLGVBQVdOLE1BQWVBLE9BQU1DLEtBQy9EUSxrQkFBQUEsUUFBa0JELEVBQVFGLFlBQUssZ0JBQVlOLE1BQWdCQSxPQUFNQyxRQUsvREksU0FBQUEsT0FDREEsV0FBQUssYUFBQSxLQUdHTCxTQUFBQSxPQUNEQSxXQUFBSyxhQUFBLElBR0NMLFNBQUFBLFNBQ0RBLFdBQUFLLGFBQUEsSUFLQSxTQUFBQyxRQURETixXQUFXSyxhQUFhLElBSTFCLFNBQVNFLFVBSVRDLFdBQVlILGNBQVpHLFFBQVFDLElBQUlKLGFBQWEsSUFFekJFO2FDckNBLFNBQUFMLGVBQUFRLEVBQUFDLEVBQUFoQixFQUFBQyxFQUFBZ0IsR0FJRUMsUUFDR0MsTUFBTUMsR0FBR0MsSUFBS04sR0FHakJPLE1BQ2VULFNBQVlVLEVBQVpDLEdBQXFCRCxHQUFBVixRQUFBQyxJQUFBUyxHQUNsQyxJQUlJRSxFQUNBQyxFQUNBQyxFQUNBQyxFQVBFQyxFQUFJYixFQUFHYyxPQUFPLEdBQXBCRCxFQUFBRSxXQUNBRixTQUFFRSxlQUFGRixHQUFBRyxVQUFBSCxNQUFBQSxPQUFBTCxFQUFBLEdBQUFTLEtBQUFKLEtBQUFBLE9BQUFaLEVBQUFZLFNBUWdDSixFQUFBTCxHQUFJSyxJQUFHUSxFQUFQLFNBQUFDLEdBQUEsT0FBQUEsRUFBQUQsT0FBQVAsRUFBaENOLEdBQUFNLElBQUFGLEVBQUEsU0FBQVUsR0FBQSxPQUFBQSxFQUFBRCxPQUNBUCxFQUFNTixHQUFPSSxJQUFBQSxFQUFrQixTQUFBVSxHQUFBLE9BQUNBLEVBQUFDLE9BQUFQLEVBQU1SLEdBQUNhLElBQVBULEVBQUEsU0FBQVUsR0FBQSxPQUFBQSxFQUFBQyxPQUNNLElBQUFDLEVBQUFoQixHQUFNZSxLQUFORSxRQUF0Q0MsUUFBQSxJQUFBSCxLQUFBUixHQUFBLElBQUFRLEtBQUFQLEtBQ0FBLE9BQVEsR0FBTUgsRUFBSUQsS0FBbEJlLEVBQUFuQixHQUFBb0IsSUFBQUMsT0FHQUosTUFBUWpCLEdBUUZpQixFQUFVakIsR0FBQ2lCLE1BQU1LLFNBRXBCQyxRQUFVMUMsRUFBQUEsRUFBU3lCLElBQW5CaUIsT0FBTyxFQUFHMUMsRUFBUyxHQUFLQyxlQUt6QjBDLEdBQUlKLEVBQUosQ0FDQTNCLElBQUFBLEVBQUEyQixFQUFZSyxPQUFBN0IsR0FDYjRCLEVBQUFFLE9BQUFDLFNBRENsQyxRQUFRQyxJQUFJLGdCQVFaLElBQUEwQixFQUFBcEIsR0FBQXlCLE9BQUE3QixHQUNBZ0MsT0FBQSxPQUNBQyxLQUFBLFFBQUFqRCxHQUxDaUQsS0FBSyxTQUFVaEQsR0FNaEJpRCxNQUFNOUIsbUJBRUwrQixTQVdVL0IsR0FDVjZCLGFBQVdFLFNBQUlsRCxNQU5sQlksUUFRUUMsSUFBQVUsRUFBVTRCLFFBR1RaLEVBQUFhLFVBQUEsUUFDTkwsS0FBQUEsR0FHRU0sUUFaRk4sT0FBTyxRQXVCRkMsS0FBQSxJQUFVTSxTQUFBQSxFQUFRQyxHQUFSRCxPQUFZdkQsRUFBVzBCLEVBQVE4QixFQUF6Q0osT0FBQUksSUFBQXhELEVBQUEsSUFBQXdCLEVBQUE0QixVQUNMSCxLQUFLLElBQUEsU0FBQWYsR0FBQSxPQUFBakMsRUFBZUMsYUFMdkJtQyxFQU1hSCxFQUFBRCxLQUFBUCxLQUFBdUIsS0FBQSxTQUFBLFNBQUFmLEdBQUEsT0FBQUcsRUFBQUgsRUFBQUQsS0FBQVAsS0FDVnVCLEtBQUssUUFBSyxTQUFBZixHQUFBLE9BQUFsQyxFQUFBd0IsRUFBQTRCLFNBQUFGLE1BQVVqRCxPQUFNLFNBQzFCZ0QsT0FBSyxhQW5CTFEsS0FBSyxTQUFBdkIsR0FBQyxNQUFBLFNBQUF3QixPQUFheEIsRUFBRUMsS0FBZixZQUFBdUIsT0FBOEJ4QixFQUFFRCxRQXdCcENlLE9BQVEvQyxLQWlCakJ1QyxFQUFBYSxVQUFBLFFBQ0FNLGFBQ0FSLFNBQUEsTUFFQUQsTUFBQSxPQUFBL0MsWUFNQXFDLEVBQUFhLFVBQUEsUUFDQXRDLEtBQUFTLEdBRUE4QixRQUNBTixPQUFBLFFBQ0FTLEtBQUEsU0FBQXZCLEVBQUFzQixHQUFBLE9BQUFELFNBQUE3QixFQUFBLEdBQUE4QixHQUFBL0IsRUFBQUMsTUFFQXVCLEtBQUEsY0FBQSxVQUVBQSxLQUFBLElBQUEsV0FBQSxPQUFBLEtBQ0FBLEtBQUEsSUFBQSxTQUFBZixFQUFBc0IsR0FBQSxPQUFBdkQsRUFBQUMsYUFBQTBELFNBQUFMLFNBQUFLLFVBQUFKLElBQUF2RCxFQUFBQyxhQUFBMEQsVUFBQSxNQUVBWCxLQUFBLGNBQUE3QyxNQUVHNkMsS0FBQSxZQUFBVyxVQUNGWCxLQUFBLE9BQUEsU0ExQ1EsSUFBSVksRUFBSTVELEVBQU9DLGFBRWZzQyxFQUFJUSxPQUFPLEtBQ1hDLEtBQUssUUFBUyxVQUNkQSxLQUFLLFlBQWEsZ0JBQWtCWSxFQUFNLEtBQzFDQyxLQUFLdkIsR0FDTGMsVUFBVSxRQUNWSixLQUFLLElBQUssR0FDVkEsS0FBSyxJQUFLLEdBQ1ZBLEtBQUssS0FBTSxTQUNYQSxLQUFLLFlBQWEsY0FDbEJBLEtBQUssWUFBYVcsVUFDbEJWLE1BQU0sY0FBZTthQzNHOUIsU0FBQXpDLGtCQUFBTSxFQUFBQyxFQUFBaEIsRUFBQUMsRUFBQWdCLEdBVUVDLFFBQ0VDLE1BQUlJLEdBQUpGLElBQVdOLEdBQUVGLE1BRGYsU0FBb0JVLEVBQU9DLEdBRW5CSyxHQUFPQyxRQUFiaEIsSUFBQVMsR0FDQU0sSUFLSUYsRUFDQUMsRUFFREQsRUFBNkJDLEVBUjlCRyxFQUFGZixFQUFBYyxPQUFBLEdBQ0FpQyxFQUFBQSxXQUVBQSxTQUFBQyxlQUFBbkMsR0FBQUcsVUFBQSxNQUFBMEIsT0FBQWxDLEVBQUEsR0FBQXlDLEtBQUEsS0FBQVAsT0FBQXpDLEVBQUEsU0FNQVMsRUFBTU4sR0FBR00sSUFBSUYsRUFBa0IsU0FBQVUsR0FBQSxPQUFBQSxFQUFBRCxLQUFDQyxFQUFBZ0MsTUFBQXhDLEVBQUFOLEdBQUlNLElBQUdPLEVBQVAsU0FBQUMsR0FBQSxPQUFBQSxFQUFBRCxLQUFBQyxFQUFBZ0MsTUFBQSxJQUFoQ0MsRUFBQS9DLEdBQUFnRCxLQUFBNUMsRUFBQSxTQUFBVSxHQUFBLE9BQUFBLEVBQUFELEtBQUFDLEVBQUFnQyxNQUNBdkMsRUFBWVAsR0FBQ2dELElBQUs1QyxFQUFrQixTQUFBVSxHQUFBLE9BQUFBLEVBQUFDLE9BQUNQLEVBQU1SLEdBQUNhLElBQUhULEVBQUosU0FBQVUsR0FBQSxPQUFBQSxFQUFBQyxPQUNDZ0MsRUFBQUEsRUFBS0UsUUFBTCxHQUFBNUMsRUFBdENBLEVBQUE0QyxRQUFBLEdBQ3FDTixTQUFJN0IsZUFBSkwsR0FBQUcsVUFBQSxhQUFBMEIsT0FBQWpDLEVBQUEsY0FBQWlDLE9BQUFTLEVBQUEsS0FBQVQsT0FBQXpDLEVBQUEsU0FJckNRLElBQUdXLEVBQUdYLEdBQUk0QyxLQUFBQSxRQU1QL0IsUUFBUSxJQUFJSCxLQUFLUixHQUFZLElBQUlRLEtBQUtQLEtBSnpDbUMsT0FBU0MsR0FBQUEsRUFBQUEsS0FPTHpCLEVBQVFuQixHQUFHb0IsSUFBSUMsT0FBbkJKLE1BQVNELEdBSUhDLEVBQVFqQixHQUFHaUIsTUFBTUssU0FJdkJKLFFBQVlsQixFQUFHeUIsRUFBTzdCLElBT25CMkIsT0FBQ1UsRUFBSnBELEVBQ0djLEdBQUtTLGVBR0tnQixFQUFVeEMsR0FBSzZDLE9BQU83QyxHQUNoQ2lELE9BQUssT0FBTUEsS0FBQSxRQUFVakQsR0FDckJpRCxLQUFLLFNBQVVoRCxHQUFDaUQsTUFBSWIsbUJBQUtpQyxTQUNWOUIsRUFDZlUsVUFBTSxRQUlObkMsS0FBQ3NDLEdBT0ZDLFFBQTRCTixPQUFBLFFBQ3hCQyxLQUFBLElBQU8sU0FBQWYsRUFBQXNCLEdBQUEsT0FBUHhELEVBQUEsRUFBQUEsRUFBQXdCLEVBQUE0QixPQUFBSSxJQUFBeEQsRUFBQSxJQUFBd0IsRUFBQTRCLFVBREpILEtBQUEsSUFFTyxTQUFBZixHQUFBLE9BQUFqQyxFQUFBQyxhQUFBbUMsRUFBQUgsRUFBQUQsS0FBQUMsRUFBQWdDLE9BQ0hqQixLQUFBLFNBQU85QyxTQUFBQSxHQUFBQSxPQUFQa0MsRUFBQUgsRUFBQUQsS0FBQUMsRUFBQWdDLE9BQ0hqQixLQUFBLFFBQUEsU0FBQWYsR0FBQSxPQUFBbEMsRUFBQXdCLEVBQUE0QixTQWxFd0NGLE1Bc0UzQyxPQUFBLFNBS1FWLEVBQ0xTLFVBQUssUUFDS1UsYUFOYlIsU0FPUSxNQUFLRCxNQUFBLE9BQVVqRCxZQVB2QjBELGFBWENSLFNBQVMsS0EwQkxELE1BQUlXLE9BQUk1RCxTQUFPQyxHQUVmc0MsT0FBSVEsRUFBQUEsS0FBT2QsRUFBWGdDLElBQ0tDLEVBYVgsU0FyQ2NoRSxhQU1icUMsRUFBSWEsVUFBVSxRQUNYdEMsS0FBS1MsR0FDTDhCLFFBQ0FOLE9BQU8sUUFDUFMsS0FBSyxTQUFDdkIsRUFBR3NCLEdBQUosT0FBVUQsU0FBUzdCLEVBQTBCLEdBQUo4QixHQUFkL0IsRUFBTUMsTUFDdEN1QixLQUFLLGNBQWUsVUFDcEJBLEtBQUssSUFBSyxXQUFBLE9BQU0sS0FDaEJBLEtBQUssSUFBSyxTQUFDZixFQUFHc0IsR0FBSixPQUFVdkQsRUFBU0MsYUFBZ0JzRCxJQUFNdkQsRUFBT0MsYUFBYTBELFVBQVksTUFDbkZYLEtBQUssY0FBZTdDLE1BQ3BCNkMsS0FBSyxZQUFhVyxVQUNsQlgsS0FBSyxPQUFRLFNBS1gsSUFBSVksRUFBSTVELEVBQU9DLGFBRWZzQyxFQUFJUSxPQUFPLEtBQ1hDLEtBQUssUUFBUyxVQUNkQSxLQUFLLFlBQWEsZ0JBQWtCWSxFQUFNLEtBQzFDQyxLQUFLdkIsR0FDTGMsVUFBVSxRQUNWSixLQUFLLElBQUssR0FDVkEsS0FBSyxJQUFLLEdBQ1ZBLEtBQUssS0FBTSxTQUNYQSxLQUFLLFlBQWEsY0FDbEJBLEtBQUssWUFBYVcsVUFDbEJWLE1BQU0sY0FBZTthQzVHOUIsU0FBU3hDLGFBQWE2RCxHQUNsQixJQUFJckMsRUFBSSxJQUFJQyxLQUVWcUMsT0FGRnRDLEVBQUlBLFNBQVFDLEVBQUFBLFdBQVpvQyxHQUVFQyxFQUFTdEMsY0FBQXVDLE1BQWVGLEVBQTFCLElBS0osU0FBUy9ELFFBQVFGLEVBQU1vRSxHQUluQixJQUFJQyxFQUFBQSxlQUFpQnJFLEVBT3BCLE1BQUEsV0FBQW9FLEVBTG9CLHVGQUFDRSxFQUdaLFNBQU5GLEVBREosdUZBQXFCRSxFQUVYLFlBQU5GLEVBRGUsdUZBQUFFLE9BQ25CIiwiZmlsZSI6InZhcmlhYmlsaXR5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBqYXZhc2NyaXB0IGZpbGUgaXMgbG9hZGVkIGZpcnN0LlxuLy8gQ2hhcnRzIGNvbmZpZ1xuY29uc3Qgd2lkdGggPSAzMDA7XG5jb25zdCBoZWlnaHQgPSAyMDA7XG5jb25zdCBtYXJnaW5Cb3R0b209NTA7XG5jb25zdCBjaGFydENvbG9yPSdyZ2IoNjYsIDE3MCwgMTQzKSc7XG5jb25zdCBmb250ID0gJ0RpZGFjdCBHb3RoaWMnO1xuY29uc3QgZm9udFNpemUgPSAnMTAnO1xuY29uc3QgYmdjb2xvcj0nd2hpdGUnO1xuXG4iLCIvLyBUaGlzIGphdmFzY3JpcHQgZmlsZSBpcyBsYXN0LlxuXG5mdW5jdGlvbiBkcmF3Q2hhcnRzKGRhdGUpIHtcbmRyYXdQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwnZXRoZXInKSwnI2V0aGVyJyx3aWR0aCxoZWlnaHQsIFwiRXVyb1wiKTtcbmRyYXdQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwnYml0Y29pbicpLCcjYml0Y29pbicsd2lkdGgsaGVpZ2h0LCBcIiRcIik7XG5kcmF3UHJpY2VDaGFydChzZXREYXRlKGRhdGUsJ2xpdGVjb2luJyksJyNsaXRlY29pbicsd2lkdGgsaGVpZ2h0LCBcIkV1cm9cIik7XG5cbmRyYXdWYXJQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwnZXRoZXInKSwnI2V0aGVyLXZhcicsd2lkdGgsaGVpZ2h0LCBcIkV1cm9cIik7XG5kcmF3VmFyUHJpY2VDaGFydChzZXREYXRlKGRhdGUsJ2JpdGNvaW4nKSwnI2JpdGNvaW4tdmFyJyx3aWR0aCxoZWlnaHQsIFwiJFwiKTtcbmRyYXdWYXJQcmljZUNoYXJ0KHNldERhdGUoZGF0ZSwnbGl0ZWNvaW4nKSwnI2xpdGVjb2luLXZhcicsd2lkdGgsaGVpZ2h0LCBcIkV1cm9cIik7XG59XG5cblxuZnVuY3Rpb24geWVhcigpIHsgICAgXG4gIGRyYXdDaGFydHMoc2V0RGF0ZVNjb3BlKDEyKSk7IFxufVxuXG5mdW5jdGlvbiBoYWxmKCkgeyAgICBcbiAgICBkcmF3Q2hhcnRzKHNldERhdGVTY29wZSg2KSk7IFxuICB9XG5cbmZ1bmN0aW9uIHF1YXRlcigpIHsgICAgXG4gICAgZHJhd0NoYXJ0cyhzZXREYXRlU2NvcGUoMykpOyBcbiAgfVxuXG4gXG5mdW5jdGlvbiBtb250aCgpIHsgXG4gIGRyYXdDaGFydHMoc2V0RGF0ZVNjb3BlKDEpKTsgXG4gIH1cblxuXG5mdW5jdGlvbiBhbGxkYXRhKCkge1xuICAgIGRyYXdDaGFydHMoJzIwMTctMDYtMDEnKTtcbn1cblxuY29uc29sZS5sb2coc2V0RGF0ZVNjb3BlKDMpKVxuXG5hbGxkYXRhKCk7IiwiLy8gUHJpY2VcblxuZnVuY3Rpb24gZHJhd1ByaWNlQ2hhcnQoZGF0YSwgaWQsIHdpZHRoLCBoZWlnaHQsIGN1cnJlbmN5KSB7XG5cbiAgcXVldWUoKVxuICAgIC5kZWZlcihkMy5jc3YsIGRhdGEpXG4gICAgLmF3YWl0KG1ha2VHcmFwaHMpO1xuXG4gIGZ1bmN0aW9uIG1ha2VHcmFwaHMoZXJyb3IsIHRyYW5zYWN0aW9uc0RhdGEpIHtcbiAgICBpZiAoZXJyb3IpIHsgY29uc29sZS5sb2coZXJyb3IpOyB9XG4gICAgY29uc3QgYSA9IGlkLnN1YnN0cigxKTtcbiAgICBhLnRvU3RyaW5nKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYDxwPiR7dHJhbnNhY3Rpb25zRGF0YVswXS5IaWdofSAke2N1cnJlbmN5fSA8L3A+YDtcblxuICAgIGxldCBtYXg7IFxuICAgIGxldCBtaW47XG4gICAgbGV0IGZpcnN0RGF0ZTtcbiAgICBsZXQgbGFzdERhdGU7XG5cbiAgICBtYXggPSBkMy5tYXgodHJhbnNhY3Rpb25zRGF0YSwgZCA9PiArZC5IaWdoKTtcbiAgICBtaW4gPSBkMy5taW4odHJhbnNhY3Rpb25zRGF0YSwgZCA9PiArZC5IaWdoKTtcbiAgICBmaXJzdERhdGUgPSBkMy5taW4odHJhbnNhY3Rpb25zRGF0YSwgZCA9PiBkLkRhdGUpO1xuICAgIGxhc3REYXRlID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gZC5EYXRlKTtcbiAgICBcbiAgICBcbiAgICBsZXQgeCA9IGQzLnRpbWUuc2NhbGUoKVxuICAgICAgLmRvbWFpbihbbmV3IERhdGUoZmlyc3REYXRlKSwgbmV3IERhdGUobGFzdERhdGUpXSlcbiAgICAgIC5yYW5nZShbMTAsIHdpZHRoLTQxXSk7ICAgLy8gTGVmdCByaWdodCBwb3NpdGlvbiBmb3IgZGF0ZSBjaGFydFxuXG4gICAgbGV0IHhBeGlzID0gZDMuc3ZnLmF4aXMoKVxuICAgICAgLnNjYWxlKHgpO1xuXG5cbiAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAuZG9tYWluKFswLCBtYXggLSBtaW4gXSkgLy8gQm91bmRhcmllcyBmb3IgY2hhcnRcbiAgICAgIC5yYW5nZShbMCwgaGVpZ2h0IC0gMTAgLSBtYXJnaW5Cb3R0b21dKTsgLy8gYm91bmRhcmllcyBmb3IgZGF0YVxuXG5cbiAgICAgIGlmIChzdmcpIHtcbiAgICAgIHZhciBwYXRoID0gc3ZnLnNlbGVjdChpZClcbiAgICAgIHBhdGguZXhpdCgpLnJlbW92ZSgpXG4gICAgICBjb25zb2xlLmxvZygndGhlcmUgaXMgc3ZnJylcbiAgICB9XG4gICAgICBjb25zdCBzdmcgPSBkMy5zZWxlY3QoaWQpXG4gICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxuICAgICAgLnN0eWxlKCdiYWNrZ3JvdW5kLWNvbG9yJywgYmdjb2xvcilcbiAgICAgIC8vIC5jYWxsKGQzLmJlaGF2aW9yLnpvb20oKS5vbihcInpvb21cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICBzdmcuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIGQzLmV2ZW50LnRyYW5zbGF0ZSArIFwiKVwiICsgXCIgc2NhbGUoXCIgKyBkMy5ldmVudC5zY2FsZSArIFwiKVwiKVxuICAgICAgLy8gfSkpXG4gICAgICAvLy5hcHBlbmQoXCJnXCIpXG4gICAgICBsZXQgdD1kM1xuICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgLmR1cmF0aW9uKDQ1MDApXG5cblxuICAgICAgY29uc29sZS5sb2codHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpXG4gICBcbiAgICAvLyBCYXJzXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKSAvLyBhcHBlbmQgc3ZnIHRvIGRpdlxuICAgICAgXG4gICAgICAuYXR0cigneCcsIChkLCBpKSA9PiB3aWR0aCAtIHdpZHRoIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGggLSAoaSAqICgod2lkdGggLSA1MCkgLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCkpKVxuICAgICAgLmF0dHIoJ3knLCBkID0+IGhlaWdodCAtIG1hcmdpbkJvdHRvbSAtIHNjYWxlKGQuSGlnaCAtIG1pbikpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBzY2FsZShkLkhpZ2ggLSBtaW4pKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgZCA9PiB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ3doaXRlJylcbiAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpXG4gICAgICAudGV4dChkID0+IGBEYXRlOiAke2QuRGF0ZX0gUHJpY2U6ICR7ZC5IaWdofWApXG4gICAgICAuYXBwZW5kKFwiZ1wiKTtcbiAgIFxuICAgICAgXG4gICAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbigxNTAwKVxuICAgICAgLnN0eWxlKFwiZmlsbFwiLGNoYXJ0Q29sb3IpO1xuICAgICBcbiAgICAgIFxuICAgIC8vIFByaWNlXG4gICAgc3ZnLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLnRleHQoKGQsIGkpID0+IHBhcnNlSW50KG1pbiArICgobWF4IC0gbWluKSAqIChpICogMC4xKSkpKVxuICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAuYXR0cigneCcsICgpID0+IDIwKVxuICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gaGVpZ2h0LW1hcmdpbkJvdHRvbS1mb250U2l6ZSArIHBhcnNlSW50KGZvbnRTaXplKSAtIChpICogKChoZWlnaHQtbWFyZ2luQm90dG9tLWZvbnRTaXplKSAvIDEwKSkpXG4gICAgICAuYXR0cignZm9udC1mYW1pbHknLCBmb250KVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTtcblxuICAgICAvLyBEYXRlXG4gICAgICAgICBsZXQgdG1wPWhlaWdodC1tYXJnaW5Cb3R0b207XG4gICAgICAgICBcbiAgICAgICAgIHN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ4IGF4aXNcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoNDAsXCIgKyB0bXAgKyBcIilcIilcbiAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgIC5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDkwKVwiKVxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG5cblxuLy8gLy8gMS4gQ3JlYXRlIHRoZSBidXR0b25cbi8vIGxldCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuLy8gYnV0dG9uLmlubmVySFRNTCA9IFwiK1wiO1xuLy8gbGV0IGJ1dHRvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuLy8gYnV0dG9uMi5pbm5lckhUTUwgPSBcIi1cIjtcblxuLy8gLy8gMi4gQXBwZW5kIHNvbWV3aGVyZVxuLy8gbGV0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKVxuLy8gYm9keS5hcHBlbmRDaGlsZChidXR0b24pO1xuXG4vLyBib2R5LmFwcGVuZENoaWxkKGJ1dHRvbjIpO1xuXG4vLyAvLyAzLiBBZGQgZXZlbnQgaGFuZGxlclxuLy8gYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIgKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gXG4vLyB9KTtcbi8vIGJ1dHRvbjIuYWRkRXZlbnRMaXN0ZW5lciAoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbi8vICAgc3RhcnREYXRlPScmc3RhcnRfZGF0ZT0yMDE4LTAxLTAxJ1xuXG4vLyAgIHN2Zy5leGl0KCkucmVtb3ZlKClcblxuLy8gZHJhd1ZhclByaWNlQ2hhcnQoZXRoZXJQcmljZURhdGEsJyNldGhlci12YXInLHdpZHRoLGhlaWdodCk7XG4vLyBkcmF3VmFyUHJpY2VDaGFydChiaXRjb2luUHJpY2VEYXRhLCcjYml0Y29pbi12YXInLHdpZHRoLGhlaWdodCk7XG5cbi8vIH0pO1xuICAgICAgXG4gIH1cbn1cbiIsIi8vIFByaWNlXG5cbmZ1bmN0aW9uIGRyYXdWYXJQcmljZUNoYXJ0KGRhdGEsIGlkLCB3aWR0aCwgaGVpZ2h0LCBjdXJyZW5jeSkge1xuXG5cblxuICBxdWV1ZSgpXG4gICAgLmRlZmVyKGQzLmNzdiwgZGF0YSlcbiAgICAuYXdhaXQobWFrZUdyYXBocyk7XG5cbiAgZnVuY3Rpb24gbWFrZUdyYXBocyhlcnJvciwgdHJhbnNhY3Rpb25zRGF0YSkge1xuICAgIGlmIChlcnJvcikgeyBjb25zb2xlLmxvZyhlcnJvcik7IH1cbiAgICBjb25zdCBhID0gaWQuc3Vic3RyKDEpO1xuICAgIGEudG9TdHJpbmcoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5pbm5lckhUTUwgPSBgPHA+JHt0cmFuc2FjdGlvbnNEYXRhWzBdLk9wZW59ICR7Y3VycmVuY3l9IDwvcD5gO1xuXG4gICAgbGV0IG1heDsgXG4gICAgbGV0IG1pbjtcbiAgICBsZXQgZmlyc3REYXRlO1xuICAgIGxldCBsYXN0RGF0ZTtcblxuICAgIG1heCA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2gtZC5Mb3cpO1xuICAgIG1pbiA9IGQzLm1pbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2gtZC5Mb3cpO1xuICAgIGxldCBhdmcgPSBkMy5tZWFuKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCAtIGQuTG93KTtcbiAgICBmaXJzdERhdGUgPSBkMy5taW4odHJhbnNhY3Rpb25zRGF0YSwgZCA9PiBkLkRhdGUpO1xuICAgIGxhc3REYXRlID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gZC5EYXRlKTtcbiAgICBcblxuICAgIGF2ZyA9IGF2Zy50b0ZpeGVkKDApO1xuICAgIG1heCA9IG1heC50b0ZpeGVkKDApO1xuICAgIC8vbWluID0gbWluLnRvRml4ZWQoMCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYCA8cD4gTWF4OiAke21heH0gQXZlcmFnZTogJHthdmd9ICR7Y3VycmVuY3l9IDwvcD5gO1xuICAgIFxuXG4gICAgbGV0IHggPSBkMy50aW1lLnNjYWxlKClcbiAgICAgIC5kb21haW4oW25ldyBEYXRlKGZpcnN0RGF0ZSksIG5ldyBEYXRlKGxhc3REYXRlKV0pXG4gICAgICAucmFuZ2UoWzEwLCB3aWR0aC00MV0pOyAgIC8vIExlZnQgcmlnaHQgcG9zaXRpb24gZm9yIGRhdGUgY2hhcnRcblxuICAgIGxldCB4QXhpcyA9IGQzLnN2Zy5heGlzKClcbiAgICAgIC5zY2FsZSh4KTtcblxuXG4gICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxuICAgICAgLmRvbWFpbihbMCwgbWF4IC0gbWluIF0pIC8vIEJvdW5kYXJpZXMgZm9yIGNoYXJ0XG4gICAgICAucmFuZ2UoWzAsIGhlaWdodCAtIDEwIC0gbWFyZ2luQm90dG9tXSk7IC8vIGJvdW5kYXJpZXMgZm9yIGRhdGFcblxuICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChpZClcbiAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXG4gICAgICAuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBiZ2NvbG9yKTtcblxuXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKSAvLyBhcHBlbmQgc3ZnIHRvIGRpdlxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gd2lkdGggKyAwIC0gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCAtIChpICogKCh3aWR0aCAtIDUwKSAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKSkpXG4gICAgICAuYXR0cigneScsIGQgPT4gaGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gc2NhbGUoZC5IaWdoIC0gZC5Mb3cpKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gc2NhbGUoZC5IaWdoIC0gZC5Mb3cpKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgZCA9PiB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKVxuICAgICAgLnN0eWxlKCdmaWxsJywgJ3doaXRlJylcbiAgICAgXG5cbiAgICAgXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgLnRyYW5zaXRpb24oKVxuICAgIC5kdXJhdGlvbigxNTAwKVxuICAgIC5zdHlsZShcImZpbGxcIixjaGFydENvbG9yKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuZHVyYXRpb24oMzAwMClcbiAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgaWYgKGQuSGlnaC1kLkxvdyA+IGF2ZykgeyAgIC8vVGhyZXNob2xkIG9mIDE1XG4gICAgICAgICAgcmV0dXJuIFwib3JhbmdlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBjaGFydENvbG9yO1xuICAgICAgfVxuICB9KVxuXG5cbiAgICAvLyBQcmljZVxuICAgIHN2Zy5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC50ZXh0KChkLCBpKSA9PiBwYXJzZUludChtaW4gKyAoKG1heCAtIG1pbikgKiAoaSAqIDAuMSkpKSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ3gnLCAoKSA9PiAyMClcbiAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGhlaWdodCAtIG1hcmdpbkJvdHRvbSAtIChpICogKChoZWlnaHQtbWFyZ2luQm90dG9tLWZvbnRTaXplKSAvIDEwKSkpXG4gICAgICAuYXR0cignZm9udC1mYW1pbHknLCBmb250KVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTtcblxuICAgICAgXG5cbiAgICAgLy8gRGF0ZVxuICAgICAgICAgbGV0IHRtcD1oZWlnaHQtbWFyZ2luQm90dG9tO1xuICAgICAgICAgXG4gICAgICAgICBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDQwLFwiICsgdG1wICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKHhBeGlzKVxuICAgICAgICAuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg5MClcIilcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuXG5cblxuICB9XG59XG5cblxuIiwiZnVuY3Rpb24gc2V0RGF0ZVNjb3BlKHBlcmlvZCkge1xuICAgIHZhciBkID0gbmV3IERhdGUoKVxuXG4gICAgZC5zZXRNb250aChkLmdldE1vbnRoKCkgLSBwZXJpb2QpO1xuICAgIHJldHVybiBkLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCk7XG59XG5cblxuZnVuY3Rpb24gc2V0RGF0ZShkYXRlLCB0eXBlKSB7XG4gICAgXG4gICAgbGV0IHN0YXJ0RGF0ZT0nJnN0YXJ0X2RhdGU9JytkYXRlXG4gICAgXG4gICAgbGV0IGJpdGNvaW5QcmljZURhdGE9J2h0dHBzOi8vd3d3LnF1YW5kbC5jb20vYXBpL3YzL2RhdGFzZXRzL0JJVFNUQU1QL1VTRC5jc3Y/YXBpX2tleT1memFuWkMzMjk3SnNpZC1FOHZDRicrc3RhcnREYXRlO1xuICAgIGxldCBldGhlclByaWNlRGF0YT0naHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9FVEhfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJytzdGFydERhdGU7XG4gICAgbGV0IGxpdGVjb2luUHJpY2VEYXRhPSdodHRwczovL3d3dy5xdWFuZGwuY29tL2FwaS92My9kYXRhc2V0cy9HREFYL0xUQ19FVVIuY3N2P2FwaV9rZXk9ZnphblpDMzI5N0pzaWQtRTh2Q0YnK3N0YXJ0RGF0ZTtcbiAgICBcbiAgICBpZiAodHlwZT09J2JpdGNvaW4nKSByZXR1cm4gYml0Y29pblByaWNlRGF0YVxuICAgIGlmICh0eXBlPT0nZXRoZXInKSByZXR1cm4gZXRoZXJQcmljZURhdGFcbiAgICBpZiAodHlwZT09J2xpdGVjb2luJykgcmV0dXJuIGxpdGVjb2luUHJpY2VEYXRhXG4gICAgfSJdfQ==
