"use strict";var width=300,height=200,chartColor="rgb(66, 170, 143)",font="Didact Gothic",fontSize="10",bgcolor="white",startDate="&start_date=2017-07-06",bitcoinPriceData="https://www.quandl.com/api/v3/datasets/GDAX/BTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+startDate,etherPriceData="https://www.quandl.com/api/v3/datasets/GDAX/ETH_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+startDate,litecoinPriceData="https://www.quandl.com/api/v3/datasets/GDAX/LTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+startDate;
"use strict";
"use strict";drawPriceChart(etherPriceData,"#ether",width,height),drawPriceChart(bitcoinPriceData,"#bitcoin",width,height),drawVarPriceChart(etherPriceData,"#ether-var",width,height),drawVarPriceChart(bitcoinPriceData,"#bitcoin-var",width,height),drawPriceChart(litecoinPriceData,"#litecoin",width,height),drawVarPriceChart(litecoinPriceData,"#litecoin-var",width,height);
"use strict";function drawPriceChart(t,n,e,r){queue().defer(d3.csv,t).await(function(t,a){var c,i,o=n.substr(1);o.toString(),document.getElementById(o).innerHTML="<p>".concat(a[0].Open," Euro </p>"),c=d3.max(a,function(t){return+t.Open}),i=d3.min(a,function(t){return+t.Open});var u=d3.scale.linear().domain([0,c-i]).range([0,r-10]),l=d3.select(n).append("svg").attr("width",e).attr("height",r).style("background-color",bgcolor);l.selectAll("rect").data(a).enter().append("rect").attr("x",function(t,n){return e-e/a.length-n*((e-50)/a.length)}).attr("y",function(t){return r-u(t.Open-i)}).attr("height",function(t){return u(t.Open-i)}).attr("width",function(t){return e/a.length}).style("fill",chartColor).append("svg:title").text(function(t){return"Date: ".concat(t.Date," Price: ").concat(t.Open)}),l.selectAll("text").data(a).enter().append("text").text(function(t,n){return parseInt(i+.1*n*(c-i))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,n){return r+parseInt(fontSize)-n*(r/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black")})}
"use strict";function drawVarPriceChart(t,e,n,r){queue().defer(d3.csv,t).await(function(t,a){var i,o,c=e.substr(1);c.toString(),i=d3.max(a,function(t){return+t.High-t.Open}),o=d3.min(a,function(t){return+t.High-t.Open}),i=i.toFixed(0),o=o.toFixed(0),document.getElementById(c).innerHTML=" <p> Max: ".concat(i," Average: ").concat((o+i)/2," </p>");var u=d3.scale.linear().domain([0,i-o]).range([0,r-10]),l=d3.select(e).append("svg").attr("width",n).attr("height",r).style("background-color",bgcolor);l.selectAll("rect").data(a).enter().append("rect").attr("x",function(t,e){return n+0-n/a.length-e*((n-50)/a.length)}).attr("y",function(t){return r-u(t.High-t.Low)}).attr("height",function(t){return u(t.High-t.Low)}).attr("width",function(t){return n/a.length}).style("fill",chartColor).append("svg:title").text(function(t){return"Date: ".concat(t.Date," Variability: ").concat(parseInt(t.High-t.Low)," Euro")}),l.selectAll("text").data(a).enter().append("text").text(function(t,e){return parseInt(o+.1*e*(i-o))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,e){return r+parseInt(fontSize)-e*(r/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black")})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LXNldHRpbmdzLWFuZC1kYXRhLmpzIiwiY3Jvc3NmaWx0ZXIuanMiLCJkcmF3LWNoYXJ0LmpzIiwiZnVuY3Rpb25zL2RyYXdQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL2RyYXdWYXJQcmljZUNoYXJ0LmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwiY2hhcnRDb2xvciIsImZvbnQiLCJiZ2NvbG9yIiwiYml0Y29pblByaWNlRGF0YSIsInN0YXJ0RGF0ZSIsImV0aGVyUHJpY2VEYXRhIiwibGl0ZWNvaW5QcmljZURhdGEiLCJkcmF3UHJpY2VDaGFydCIsImRyYXdWYXJQcmljZUNoYXJ0IiwiZGF0YSIsImlkIiwicXVldWUiLCJkZWZlciIsImNzdiIsImF3YWl0IiwiZXJyb3IiLCJ0cmFuc2FjdGlvbnNEYXRhIiwiYSIsIm1heCIsIm1pbiIsInRvU3RyaW5nIiwic3Vic3RyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImNvbmNhdCIsIk9wZW4iLCJkMyIsImQiLCJzY2FsZSIsImxpbmVhciIsInJhbmdlIiwic3ZnIiwic2VsZWN0IiwiYXBwZW5kIiwic2VsZWN0QWxsIiwiYXR0ciIsImVudGVyIiwic3R5bGUiLCJpIiwibGVuZ3RoIiwicGFyc2VJbnQiLCJ0ZXh0IiwiRGF0ZSIsImZvbnRTaXplIiwiSGlnaCIsInRvRml4ZWQiLCJkb21haW4iLCJMb3ciXSwibWFwcGluZ3MiOiJhQUFBLElBQUFBLE1BQUEsSUFDQUMsT0FBQSxJQUNNRCxXQUFOLG9CQUNNQyxLQUFTLGdCQUNUQyxTQUFXLEtBQ1hDLFFBQU8sUUFFUEMsVUFBUSx5QkFLUkMsaUJBQWlCLHVGQUFBQyxVQUNqQkMsZUFBZSx1RkFBQUQsVUFDZkUsa0JBQWtCLHVGQUFBRjtBQ2R4QjthQ0NBRyxlQUFBRixlQUFBLFNBQUFQLE1BQUFDLFFBRUFRLGVBQWVGLGlCQUFlLFdBQVNQLE1BQU1DLFFBRzdDUyxrQkFBa0JILGVBQUQsYUFBQVAsTUFBNkJB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YWRlZCBmaXJzdC5cbi8vIENoYXJ0cyBjb25maWdcbmNvbnN0IHdpZHRoID0gMzAwO1xuY29uc3QgaGVpZ2h0ID0gMjAwO1xuY29uc3QgY2hhcnRDb2xvcj0ncmdiKDY2LCAxNzAsIDE0MyknO1xuY29uc3QgZm9udCA9ICdEaWRhY3QgR290aGljJztcbmNvbnN0IGZvbnRTaXplID0gJzEwJztcbmNvbnN0IGJnY29sb3I9J3doaXRlJztcblxubGV0IHN0YXJ0RGF0ZT0nJnN0YXJ0X2RhdGU9MjAxNy0wNy0wNidcblxuLy8gRGF0YVxuY29uc3QgYml0Y29pblByaWNlRGF0YT0naHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9CVENfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJytzdGFydERhdGU7XG5jb25zdCBldGhlclByaWNlRGF0YT0naHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9FVEhfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJytzdGFydERhdGU7XG5jb25zdCBsaXRlY29pblByaWNlRGF0YT0naHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9MVENfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJytzdGFydERhdGU7XG4iLCIvLyAvLyBFVEgvRVVSXG4vLyAvLyBodHRwczovL3d3dy5xdWFuZGwuY29tL2FwaS92My9kYXRhc2V0cy9HREFYL0VUSF9FVVIuY3N2P2FwaV9rZXk9ZnphblpDMzI5N0pzaWQtRTh2Q0Ymc3RhcnRfZGF0ZT0yMDE3LTA2LTEyXG5cbi8vIC8vIGZvciB0aGlzIHNjcmlwdCBzaG91bGQgYmUgaW4gZm9sbG93aW5nIGV4YW1wbGVcbi8vIC8vIHZhciB0cmFuc2FjdGlvbnNEYXRhID0gW1xuLy8gLy8gICAgIHtcIm5hbWVcIjogXCJUb21cIiwgXCJzdG9yZVwiOiBcIkFjbWVcIiwgXCJzdGF0ZVwiOiBcIk5ZXCIsIFwic3BlbmRcIjogMTAwfSxcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiVG9tXCIsIFwic3RvcmVcIjogXCJCaWcgQ28uXCIsIFwic3RhdGVcIjogXCJOWVwiLCBcInNwZW5kXCI6IDIwMH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkJvYlwiLCBcInN0b3JlXCI6IFwiQWNtZVwiLCBcInN0YXRlXCI6IFwiRkxcIiwgXCJzcGVuZFwiOiAxNTB9LFxuLy8gLy8gICAgIHtcIm5hbWVcIjogXCJCb2JcIiwgXCJzdG9yZVwiOiBcIkFjbWVcIiwgXCJzdGF0ZVwiOiBcIk5ZXCIsIFwic3BlbmRcIjogMjAwfSxcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiQm9iXCIsIFwic3RvcmVcIjogXCJCaWcgQ28uXCIsIFwic3RhdGVcIjogXCJGTFwiLCBcInNwZW5kXCI6IDUwfSxcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiQm9iXCIsIFwic3RvcmVcIjogXCJCaWcgQ28uXCIsIFwic3RhdGVcIjogXCJOWVwiLCBcInNwZW5kXCI6IDc1fSxcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiQWxpY2VcIiwgXCJzdG9yZVwiOiBcIkFjbWVcIiwgXCJzdGF0ZVwiOiBcIkZMXCIsIFwic3BlbmRcIjogMjAwfSxcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiQWxpY2VcIiwgXCJzdG9yZVwiOiBcIkJpZyBDby5cIiwgXCJzdGF0ZVwiOiBcIk5ZXCIsIFwic3BlbmRcIjogMzUwfSxcbi8vIC8vIF07XG5cblxuLy8gcXVldWUoKVxuLy8gICAgIC5kZWZlcihkMy5jc3YsIGJpdGNvaW5QcmljZURhdGEpXG4vLyAgICAgLmF3YWl0KG1ha2VHcmFwaDIpO1xuXG5cbi8vICBmdW5jdGlvbiBtYWtlR3JhcGgyKGVycm9yLCB0cmFuc2FjdGlvbnNEYXRhKSB7XG5cbi8vICAgICBjb25zb2xlLmxvZyh0cmFuc2FjdGlvbnNEYXRhKVxuLy8gICAgICAgICB2YXIgbmR4ID0gY3Jvc3NmaWx0ZXIodHJhbnNhY3Rpb25zRGF0YSk7XG4vLyAgICAgICAgIHZhciBwYXJzZURhdGUgPSBkMy50aW1lLmZvcm1hdChcIiVkLyVtLyVZXCIpLnBhcnNlO1xuLy8gICAgICAgICB0cmFuc2FjdGlvbnNEYXRhLmZvckVhY2goZnVuY3Rpb24oZCl7XG4vLyAgICAgICAgICAgICBkLmRhdGUgPSBwYXJzZURhdGUoZC5kYXRlKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICAgIHZhciBkYXRlX2RpbSA9IG5keC5kaW1lbnNpb24oZGMucGx1Y2soJ2RhdGUnKSk7XG4vLyAgICAgICAgIHZhciB0b3RhbF9zcGVuZF9wZXJfZGF0ZSA9IGRhdGVfZGltLmdyb3VwKCkucmVkdWNlU3VtKGRjLnBsdWNrKCdzcGVuZCcpKTtcbi8vICAgICAgICAgdmFyIG1pbkRhdGUgPSBkYXRlX2RpbS5ib3R0b20oMSlbMF0uZGF0ZTtcbi8vICAgICAgICAgdmFyIG1heERhdGUgPSBkYXRlX2RpbS50b3AoMSlbMF0uZGF0ZTtcbi8vICAgICAgICAgZGMubGluZUNoYXJ0KFwiI2V0aGVyXCIpXG4vLyAgICAgICAgICAgICAud2lkdGgoMTAwMClcbi8vICAgICAgICAgICAgIC5oZWlnaHQoMzAwKVxuLy8gICAgICAgICAgICAgLm1hcmdpbnMoe3RvcDogMTAsIHJpZ2h0OiA1MCwgYm90dG9tOiAzMCwgbGVmdDogNTB9KVxuLy8gICAgICAgICAgICAgLmRpbWVuc2lvbihkYXRlX2RpbSlcbi8vICAgICAgICAgICAgIC5ncm91cCh0b3RhbF9zcGVuZF9wZXJfZGF0ZSlcbi8vICAgICAgICAgICAgIC50cmFuc2l0aW9uRHVyYXRpb24oNTAwKVxuLy8gICAgICAgICAgICAgLngoZDMudGltZS5zY2FsZSgpLmRvbWFpbihbbWluRGF0ZSxtYXhEYXRlXSkpXG4vLyAgICAgICAgICAgICAueEF4aXNMYWJlbChcIk1vbnRoXCIpXG4vLyAgICAgICAgICAgICAueUF4aXMoKS50aWNrcyg0KTtcbi8vICAgICAgICAgZGMucmVuZGVyQWxsKCk7XG4vLyAgICAgfSIsIi8vIFRoaXMgamF2YXNjcmlwdCBmaWxlIGlzIGxhc3QuXG4vLyBEcmF3IGNoYXJ0cyBhdFxuXG5kcmF3UHJpY2VDaGFydChldGhlclByaWNlRGF0YSwnI2V0aGVyJyx3aWR0aCxoZWlnaHQpO1xuZHJhd1ByaWNlQ2hhcnQoYml0Y29pblByaWNlRGF0YSwnI2JpdGNvaW4nLHdpZHRoLGhlaWdodCk7XG5cbmRyYXdWYXJQcmljZUNoYXJ0KGV0aGVyUHJpY2VEYXRhLCcjZXRoZXItdmFyJyx3aWR0aCxoZWlnaHQpO1xuZHJhd1ZhclByaWNlQ2hhcnQoYml0Y29pblByaWNlRGF0YSwnI2JpdGNvaW4tdmFyJyx3aWR0aCxoZWlnaHQpO1xuXG5kcmF3UHJpY2VDaGFydChsaXRlY29pblByaWNlRGF0YSwnI2xpdGVjb2luJyx3aWR0aCxoZWlnaHQpO1xuZHJhd1ZhclByaWNlQ2hhcnQobGl0ZWNvaW5QcmljZURhdGEsJyNsaXRlY29pbi12YXInLHdpZHRoLGhlaWdodCk7XG5cbiIsIi8vIFByaWNlXG5cbmZ1bmN0aW9uIGRyYXdQcmljZUNoYXJ0KGRhdGEsIGlkLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIHF1ZXVlKClcbiAgICAuZGVmZXIoZDMuY3N2LCBkYXRhKVxuICAgIC5hd2FpdChtYWtlR3JhcGhzKTtcblxuICBmdW5jdGlvbiBtYWtlR3JhcGhzKGVycm9yLCB0cmFuc2FjdGlvbnNEYXRhKSB7XG4gICAgY29uc3QgYSA9IGlkLnN1YnN0cigxKTtcbiAgICBhLnRvU3RyaW5nKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYDxwPiR7dHJhbnNhY3Rpb25zRGF0YVswXS5PcGVufSBFdXJvIDwvcD5gO1xuXG4gICAgbGV0IG1heDsgbGV0XG4gICAgICBtaW47XG5cbiAgICBtYXggPSBkMy5tYXgodHJhbnNhY3Rpb25zRGF0YSwgZCA9PiArZC5PcGVuKTtcbiAgICBtaW4gPSBkMy5taW4odHJhbnNhY3Rpb25zRGF0YSwgZCA9PiArZC5PcGVuKTtcblxuICAgIGNvbnN0IHNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgIC5kb21haW4oWzAsIG1heCAtIG1pbl0pIC8vIGJvdW5kYXJpZXMgZm9yIGNoYXJ0XG4gICAgICAucmFuZ2UoWzAsIGhlaWdodCAtIDEwXSk7IC8vIGJvdW5kYXJpZXMgZm9yIGRhdGFcblxuICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChpZClcbiAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXG4gICAgICAuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBiZ2NvbG9yKTtcblxuICAgIC8vIEJhcnNcbiAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncmVjdCcpIC8vIGFwcGVuZCBzdmcgdG8gZGl2XG4gICAgICAuYXR0cigneCcsIChkLCBpKSA9PiB3aWR0aCAtIHdpZHRoIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGggLSAoaSAqICgod2lkdGggLSA1MCkgLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCkpKVxuICAgICAgLmF0dHIoJ3knLCBkID0+IGhlaWdodCAtIHNjYWxlKGQuT3BlbiAtIG1pbikpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBzY2FsZShkLk9wZW4gLSBtaW4pKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgZCA9PiB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKVxuICAgICAgLnN0eWxlKCdmaWxsJywgY2hhcnRDb2xvcilcbiAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpXG4gICAgICAudGV4dChkID0+IGBEYXRlOiAke2QuRGF0ZX0gUHJpY2U6ICR7ZC5PcGVufWApO1xuXG4gICAgLy8gUHJpY2VcbiAgICBzdmcuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAudGV4dCgoZCwgaSkgPT4gcGFyc2VJbnQobWluICsgKChtYXggLSBtaW4pICogKGkgKiAwLjEpKSkpXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5hdHRyKCd4JywgKCkgPT4gMjApXG4gICAgICAuYXR0cigneScsIChkLCBpKSA9PiBoZWlnaHQgKyBwYXJzZUludChmb250U2l6ZSkgLSAoaSAqIChoZWlnaHQgLyAxMCkpKVxuICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgZm9udClcbiAgICAgIC5hdHRyKCdmb250LXNpemUnLCBmb250U2l6ZSlcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJyk7XG4gIH1cbn1cbiIsIi8vIEJpdGNvaW4gdmFyaWFiaWxpdHlcblxuZnVuY3Rpb24gZHJhd1ZhclByaWNlQ2hhcnQoZGF0YSwgaWQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgcXVldWUoKVxuICAgIC5kZWZlcihkMy5jc3YsIGRhdGEpXG4gICAgLmF3YWl0KG1ha2VWYXJHcmFwaCk7XG5cbiAgZnVuY3Rpb24gbWFrZVZhckdyYXBoKGVycm9yLCB0cmFuc2FjdGlvbnNEYXRhKSB7XG4gICAgbGV0IG1heDtcbiAgICBsZXQgbWluO1xuXG4gICAgY29uc3QgYSA9IGlkLnN1YnN0cigxKTtcbiAgICBhLnRvU3RyaW5nKCk7XG5cblxuICAgIG1heCA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2ggLSBkLk9wZW4pO1xuICAgIG1pbiA9IGQzLm1pbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2ggLSBkLk9wZW4pO1xuXG4gICAgbWF4ID0gbWF4LnRvRml4ZWQoMCk7XG4gICAgbWluID0gbWluLnRvRml4ZWQoMCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYCA8cD4gTWF4OiAke21heH0gQXZlcmFnZTogJHsoKG1pbiArIG1heCkgLyAyKX0gPC9wPmA7XG5cbiAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAuZG9tYWluKFswLCBtYXggLSBtaW5dKSAvLyBib3VuZGFyaWVzIGZvciBjaGFydFxuICAgICAgLnJhbmdlKFswLCBoZWlnaHQgLSAxMF0pOyAvLyBib3VuZGFyaWVzIGZvciBkYXRhXG5cbiAgICBjb25zdCBzdmcgPSBkMy5zZWxlY3QoaWQpXG4gICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxuICAgICAgLnN0eWxlKCdiYWNrZ3JvdW5kLWNvbG9yJywgYmdjb2xvcik7XG5cbiAgICAvLyBCYXJzXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKSAvLyBhcHBlbmQgc3ZnIHRvIGRpdlxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gd2lkdGggKyAwIC0gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCAtIChpICogKCh3aWR0aCAtIDUwKSAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKSkpXG4gICAgICAuYXR0cigneScsIGQgPT4gaGVpZ2h0IC0gc2NhbGUoZC5IaWdoIC0gZC5Mb3cpKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gc2NhbGUoZC5IaWdoIC0gZC5Mb3cpKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgZCA9PiB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKVxuICAgICAgLnN0eWxlKCdmaWxsJywgY2hhcnRDb2xvcilcbiAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpXG4gICAgICAudGV4dChkID0+IGBEYXRlOiAke2QuRGF0ZX0gVmFyaWFiaWxpdHk6ICR7cGFyc2VJbnQoZC5IaWdoIC0gZC5Mb3cpfSBFdXJvYCk7XG5cbiAgICAvLyBQcmljZVxuICAgIHN2Zy5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC50ZXh0KChkLCBpKSA9PiBwYXJzZUludChtaW4gKyAoKG1heCAtIG1pbikgKiAoaSAqIDAuMSkpKSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ3gnLCAoKSA9PiAyMClcbiAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGhlaWdodCArIHBhcnNlSW50KGZvbnRTaXplKSAtIChpICogKGhlaWdodCAvIDEwKSkpXG4gICAgICAuYXR0cignZm9udC1mYW1pbHknLCBmb250KVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTtcblxuICAgIC8vIGxhYmVsc1xuICAgIC8vIHN2Zy5zZWxlY3RBbGwoJ2NpcmNsZScpXG4gICAgLy8gICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgIC8vICAgLmVudGVyKClcbiAgICAvLyAgIC5hcHBlbmQoJ3RleHQnKVxuICAgIC8vICAgLnRleHQoZCA9PiAoZC5IaWdoIC0gZC5PcGVuKS50b0ZpeGVkKDApKVxuICAgIC8vICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgLy8gICAuYXR0cigneCcsIChkLCBpKSA9PiB3aWR0aCAtIChpICogKHdpZHRoIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpKSlcbiAgICAvLyAgIC5hdHRyKCd5JywgZCA9PiBoZWlnaHQgLSBzY2FsZShkLk9wZW4pKVxuICAgIC8vICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgZm9udClcbiAgICAvLyAgIC5hdHRyKCdmb250LXNpemUnLCBmb250U2l6ZSlcbiAgICAvLyAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJyk7XG4gIH1cbn1cbiJdfQ==
