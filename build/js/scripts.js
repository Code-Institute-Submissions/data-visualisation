"use strict";var width=300,height=200,chartColor="rgb(66, 170, 143)",font="Didact Gothic",fontSize="10",bgcolor="white",bitcoinPriceData="https://www.quandl.com/api/v3/datasets/GDAX/BTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF",etherPriceData="https://www.quandl.com/api/v3/datasets/GDAX/ETH_EUR.csv?api_key=fzanZC3297Jsid-E8vCF&start_date=2018-07-06";
"use strict";
"use strict";drawPriceChart(etherPriceData,"#ether",width,height),drawPriceChart(bitcoinPriceData,"#bitcoin",width,height),drawVarPriceChart(etherPriceData,"#ether-var",width,height),drawVarPriceChart(bitcoinPriceData,"#bitcoin-var",width,height);
"use strict";function drawPriceChart(t,n,e,r){queue().defer(d3.csv,t).await(function(t,a){var c,i,o=n.substr(1);o.toString(),document.getElementById(o).innerHTML="<p>".concat(a[0].Open," Euro </p>"),c=d3.max(a,function(t){return+t.Open}),i=d3.min(a,function(t){return+t.Open});var u=d3.scale.linear().domain([0,c-i]).range([0,r-10]),l=d3.select(n).append("svg").attr("width",e).attr("height",r).style("background-color",bgcolor);l.selectAll("rect").data(a).enter().append("rect").attr("x",function(t,n){return e-e/a.length-n*((e-50)/a.length)}).attr("y",function(t){return r-u(t.Open-i)}).attr("height",function(t){return u(t.Open-i)}).attr("width",function(t){return e/a.length}).style("fill",chartColor).append("svg:title").text(function(t){return"Date: ".concat(t.Date," Price: ").concat(t.Open)}),l.selectAll("text").data(a).enter().append("text").text(function(t,n){return parseInt(i+.1*n*(c-i))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,n){return r+parseInt(fontSize)-n*(r/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black")})}
"use strict";function drawVarPriceChart(t,e,n,r){queue().defer(d3.csv,t).await(function(t,a){var i,o,c=e.substr(1);c.toString(),i=d3.max(a,function(t){return+t.High-t.Open}),o=d3.min(a,function(t){return+t.High-t.Open}),i=i.toFixed(0),o=o.toFixed(0),document.getElementById(c).innerHTML=" <p> Max: ".concat(i," Average: ").concat((o+i)/2," </p>");var l=d3.scale.linear().domain([0,i-o]).range([0,r-10]),u=d3.select(e).append("svg").attr("width",n).attr("height",r).style("background-color",bgcolor);u.selectAll("rect").data(a).enter().append("rect").attr("x",function(t,e){return n+0-n/a.length-e*((n-50)/a.length)}).attr("y",function(t){return r-l(t.High-t.Low)}).attr("height",function(t){return l(t.High-t.Low)}).attr("width",function(t){return n/a.length}).style("fill",chartColor).append("svg:title").text(function(t){return"Date: ".concat(t.Date," Variability: ").concat(parseInt(t.High-t.Low)," Euro")}),u.selectAll("text").data(a).enter().append("text").text(function(t,e){return parseInt(o+.1*e*(i-o))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,e){return r+parseInt(fontSize)-e*(r/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black"),u.selectAll("circle").data(a).enter().append("text").text(function(t){return(t.High-t.Open).toFixed(0)}).attr("text-anchor","middle").attr("x",function(t,e){return n-e*(n/a.length)}).attr("y",function(t){return r-l(t.Open)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black")})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlci5qcyIsImNyb3NzZmlsdGVyLmpzIiwiZm9vdGVyLmpzIiwiZnVuY3Rpb25zL2RyYXdQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL2RyYXdWYXJQcmljZUNoYXJ0LmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwiY2hhcnRDb2xvciIsImZvbnQiLCJiaXRjb2luUHJpY2VEYXRhIiwiZHJhd1ByaWNlQ2hhcnQiLCJldGhlclByaWNlRGF0YSIsImRyYXdWYXJQcmljZUNoYXJ0IiwiZGF0YSIsImlkIiwicXVldWUiLCJkZWZlciIsImNzdiIsImF3YWl0IiwiZXJyb3IiLCJ0cmFuc2FjdGlvbnNEYXRhIiwiYSIsIm1heCIsIm1pbiIsInRvU3RyaW5nIiwic3Vic3RyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImNvbmNhdCIsIk9wZW4iLCJkMyIsImQiLCJzY2FsZSIsImxpbmVhciIsInJhbmdlIiwic3ZnIiwic2VsZWN0IiwiYXBwZW5kIiwic2VsZWN0QWxsIiwiYXR0ciIsImJnY29sb3IiLCJlbnRlciIsInN0eWxlIiwiaSIsImxlbmd0aCIsInBhcnNlSW50IiwidGV4dCIsIkRhdGUiLCJmb250U2l6ZSIsIkhpZ2giLCJ0b0ZpeGVkIiwiZG9tYWluIiwiTG93Il0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxNQUFBLElBQ0FDLE9BQUEsSUFDTUQsV0FBTixvQkFDTUMsS0FBUyxnQkFDVEMsU0FBVyxLQUNYQyxRQUFPLFFBS1BDLGlCQUFpQix1RkFBakJBLGVBQWdCO0FDVnRCO2FDQUFDLGVBQUFDLGVBQUEsU0FBQU4sTUFBQUMsUUFFQUksZUFBZUMsaUJBQWUsV0FBU04sTUFBTUMsUUFHN0NNLGtCQUFrQkQsZUFBRCxhQUFBTixNQUE2QkEsUUFDOUNPLGtCQUFrQkgsaUJBQUQsZUFBQUosTUFBaUNBO2FDTmxELFNBQUFLLGVBQUFHLEVBQUFDLEVBQUFULEVBQUFDLEdBRUFTLFFBQ0VBLE1BQ0dDLEdBQUFBLElB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RUFBTUQsRUFBRUYsUUFDaENVLEtBQUssY0FBZWhDLE1BQ3BCZ0MsS0FBSyxZQUFhUyxVQUNsQlQsS0FBSyxPQUFRIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGphdmFzY3JpcHQgZmlsZSBpcyBsb2FkZWQgZmlyc3QuXG4vLyBDaGFydHMgY29uZmlnXG5jb25zdCB3aWR0aCA9IDMwMDtcbmNvbnN0IGhlaWdodCA9IDIwMDtcbmNvbnN0IGNoYXJ0Q29sb3I9J3JnYig2NiwgMTcwLCAxNDMpJztcbmNvbnN0IGZvbnQgPSAnRGlkYWN0IEdvdGhpYyc7XG5jb25zdCBmb250U2l6ZSA9ICcxMCc7XG5jb25zdCBiZ2NvbG9yPSd3aGl0ZSc7XG5cbi8vIERhdGFcbmNvbnN0IGJpdGNvaW5QcmljZURhdGE9J2h0dHBzOi8vd3d3LnF1YW5kbC5jb20vYXBpL3YzL2RhdGFzZXRzL0dEQVgvQlRDX0VVUi5jc3Y/YXBpX2tleT1memFuWkMzMjk3SnNpZC1FOHZDRic7XG5jb25zdCBldGhlclByaWNlRGF0YT0naHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9FVEhfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJnN0YXJ0X2RhdGU9MjAxOC0wNy0wNic7IiwiLy8gLy8gRVRIL0VVUlxuLy8gLy8gaHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9FVEhfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJnN0YXJ0X2RhdGU9MjAxNy0wNi0xMlxuXG4vLyAvLyBmb3IgdGhpcyBzY3JpcHQgc2hvdWxkIGJlIGluIGZvbGxvd2luZyBleGFtcGxlXG4vLyAvLyB2YXIgdHJhbnNhY3Rpb25zRGF0YSA9IFtcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiVG9tXCIsIFwic3RvcmVcIjogXCJBY21lXCIsIFwic3RhdGVcIjogXCJOWVwiLCBcInNwZW5kXCI6IDEwMH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIlRvbVwiLCBcInN0b3JlXCI6IFwiQmlnIENvLlwiLCBcInN0YXRlXCI6IFwiTllcIiwgXCJzcGVuZFwiOiAyMDB9LFxuLy8gLy8gICAgIHtcIm5hbWVcIjogXCJCb2JcIiwgXCJzdG9yZVwiOiBcIkFjbWVcIiwgXCJzdGF0ZVwiOiBcIkZMXCIsIFwic3BlbmRcIjogMTUwfSxcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiQm9iXCIsIFwic3RvcmVcIjogXCJBY21lXCIsIFwic3RhdGVcIjogXCJOWVwiLCBcInNwZW5kXCI6IDIwMH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkJvYlwiLCBcInN0b3JlXCI6IFwiQmlnIENvLlwiLCBcInN0YXRlXCI6IFwiRkxcIiwgXCJzcGVuZFwiOiA1MH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkJvYlwiLCBcInN0b3JlXCI6IFwiQmlnIENvLlwiLCBcInN0YXRlXCI6IFwiTllcIiwgXCJzcGVuZFwiOiA3NX0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkFsaWNlXCIsIFwic3RvcmVcIjogXCJBY21lXCIsIFwic3RhdGVcIjogXCJGTFwiLCBcInNwZW5kXCI6IDIwMH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkFsaWNlXCIsIFwic3RvcmVcIjogXCJCaWcgQ28uXCIsIFwic3RhdGVcIjogXCJOWVwiLCBcInNwZW5kXCI6IDM1MH0sXG4vLyAvLyBdO1xuXG5cbi8vIHF1ZXVlKClcbi8vICAgICAuZGVmZXIoZDMuY3N2LCBiaXRjb2luUHJpY2VEYXRhKVxuLy8gICAgIC5hd2FpdChtYWtlR3JhcGgyKTtcblxuXG4vLyAgZnVuY3Rpb24gbWFrZUdyYXBoMihlcnJvciwgdHJhbnNhY3Rpb25zRGF0YSkge1xuXG4vLyAgICAgY29uc29sZS5sb2codHJhbnNhY3Rpb25zRGF0YSlcbi8vICAgICAgICAgdmFyIG5keCA9IGNyb3NzZmlsdGVyKHRyYW5zYWN0aW9uc0RhdGEpO1xuLy8gICAgICAgICB2YXIgcGFyc2VEYXRlID0gZDMudGltZS5mb3JtYXQoXCIlZC8lbS8lWVwiKS5wYXJzZTtcbi8vICAgICAgICAgdHJhbnNhY3Rpb25zRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpe1xuLy8gICAgICAgICAgICAgZC5kYXRlID0gcGFyc2VEYXRlKGQuZGF0ZSk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgICB2YXIgZGF0ZV9kaW0gPSBuZHguZGltZW5zaW9uKGRjLnBsdWNrKCdkYXRlJykpO1xuLy8gICAgICAgICB2YXIgdG90YWxfc3BlbmRfcGVyX2RhdGUgPSBkYXRlX2RpbS5ncm91cCgpLnJlZHVjZVN1bShkYy5wbHVjaygnc3BlbmQnKSk7XG4vLyAgICAgICAgIHZhciBtaW5EYXRlID0gZGF0ZV9kaW0uYm90dG9tKDEpWzBdLmRhdGU7XG4vLyAgICAgICAgIHZhciBtYXhEYXRlID0gZGF0ZV9kaW0udG9wKDEpWzBdLmRhdGU7XG4vLyAgICAgICAgIGRjLmxpbmVDaGFydChcIiNldGhlclwiKVxuLy8gICAgICAgICAgICAgLndpZHRoKDEwMDApXG4vLyAgICAgICAgICAgICAuaGVpZ2h0KDMwMClcbi8vICAgICAgICAgICAgIC5tYXJnaW5zKHt0b3A6IDEwLCByaWdodDogNTAsIGJvdHRvbTogMzAsIGxlZnQ6IDUwfSlcbi8vICAgICAgICAgICAgIC5kaW1lbnNpb24oZGF0ZV9kaW0pXG4vLyAgICAgICAgICAgICAuZ3JvdXAodG90YWxfc3BlbmRfcGVyX2RhdGUpXG4vLyAgICAgICAgICAgICAudHJhbnNpdGlvbkR1cmF0aW9uKDUwMClcbi8vICAgICAgICAgICAgIC54KGQzLnRpbWUuc2NhbGUoKS5kb21haW4oW21pbkRhdGUsbWF4RGF0ZV0pKVxuLy8gICAgICAgICAgICAgLnhBeGlzTGFiZWwoXCJNb250aFwiKVxuLy8gICAgICAgICAgICAgLnlBeGlzKCkudGlja3MoNCk7XG4vLyAgICAgICAgIGRjLnJlbmRlckFsbCgpO1xuLy8gICAgIH0iLCIvLyBUaGlzIGphdmFzY3JpcHQgZmlsZSBpcyBsYXN0LlxuXG5kcmF3UHJpY2VDaGFydChldGhlclByaWNlRGF0YSwnI2V0aGVyJyx3aWR0aCxoZWlnaHQpO1xuZHJhd1ByaWNlQ2hhcnQoYml0Y29pblByaWNlRGF0YSwnI2JpdGNvaW4nLHdpZHRoLGhlaWdodCk7XG5cbmRyYXdWYXJQcmljZUNoYXJ0KGV0aGVyUHJpY2VEYXRhLCcjZXRoZXItdmFyJyx3aWR0aCxoZWlnaHQpO1xuZHJhd1ZhclByaWNlQ2hhcnQoYml0Y29pblByaWNlRGF0YSwnI2JpdGNvaW4tdmFyJyx3aWR0aCxoZWlnaHQpO1xuIiwiLy8gUHJpY2VcblxuZnVuY3Rpb24gZHJhd1ByaWNlQ2hhcnQoZGF0YSwgaWQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgcXVldWUoKVxuICAgIC5kZWZlcihkMy5jc3YsIGRhdGEpXG4gICAgLmF3YWl0KG1ha2VHcmFwaHMpO1xuXG4gIGZ1bmN0aW9uIG1ha2VHcmFwaHMoZXJyb3IsIHRyYW5zYWN0aW9uc0RhdGEpIHtcbiAgICBjb25zdCBhID0gaWQuc3Vic3RyKDEpO1xuICAgIGEudG9TdHJpbmcoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5pbm5lckhUTUwgPSBgPHA+JHt0cmFuc2FjdGlvbnNEYXRhWzBdLk9wZW59IEV1cm8gPC9wPmA7XG5cbiAgICBsZXQgbWF4OyBsZXRcbiAgICAgIG1pbjtcblxuICAgIG1heCA9IGQzLm1heCh0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLk9wZW4pO1xuICAgIG1pbiA9IGQzLm1pbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLk9wZW4pO1xuXG4gICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxuICAgICAgLmRvbWFpbihbMCwgbWF4IC0gbWluXSkgLy8gYm91bmRhcmllcyBmb3IgY2hhcnRcbiAgICAgIC5yYW5nZShbMCwgaGVpZ2h0IC0gMTBdKTsgLy8gYm91bmRhcmllcyBmb3IgZGF0YVxuXG4gICAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KGlkKVxuICAgICAgLmFwcGVuZCgnc3ZnJylcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodClcbiAgICAgIC5zdHlsZSgnYmFja2dyb3VuZC1jb2xvcicsIGJnY29sb3IpO1xuXG4gICAgLy8gQmFyc1xuICAgIHN2Zy5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdyZWN0JykgLy8gYXBwZW5kIHN2ZyB0byBkaXZcbiAgICAgIC5hdHRyKCd4JywgKGQsIGkpID0+IHdpZHRoIC0gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCAtIChpICogKCh3aWR0aCAtIDUwKSAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKSkpXG4gICAgICAuYXR0cigneScsIGQgPT4gaGVpZ2h0IC0gc2NhbGUoZC5PcGVuIC0gbWluKSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IHNjYWxlKGQuT3BlbiAtIG1pbikpXG4gICAgICAuYXR0cignd2lkdGgnLCBkID0+IHdpZHRoIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBjaGFydENvbG9yKVxuICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJylcbiAgICAgIC50ZXh0KGQgPT4gYERhdGU6ICR7ZC5EYXRlfSBQcmljZTogJHtkLk9wZW59YCk7XG5cbiAgICAvLyBQcmljZVxuICAgIHN2Zy5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC50ZXh0KChkLCBpKSA9PiBwYXJzZUludChtaW4gKyAoKG1heCAtIG1pbikgKiAoaSAqIDAuMSkpKSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ3gnLCAoKSA9PiAyMClcbiAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGhlaWdodCArIHBhcnNlSW50KGZvbnRTaXplKSAtIChpICogKGhlaWdodCAvIDEwKSkpXG4gICAgICAuYXR0cignZm9udC1mYW1pbHknLCBmb250KVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTtcbiAgfVxufVxuIiwiLy8gQml0Y29pbiB2YXJpYWJpbGl0eVxuXG5mdW5jdGlvbiBkcmF3VmFyUHJpY2VDaGFydChkYXRhLCBpZCwgd2lkdGgsIGhlaWdodCkge1xuICBxdWV1ZSgpXG4gICAgLmRlZmVyKGQzLmNzdiwgZGF0YSlcbiAgICAuYXdhaXQobWFrZVZhckdyYXBoKTtcblxuICBmdW5jdGlvbiBtYWtlVmFyR3JhcGgoZXJyb3IsIHRyYW5zYWN0aW9uc0RhdGEpIHtcbiAgICBsZXQgbWF4O1xuICAgIGxldCBtaW47XG5cbiAgICBjb25zdCBhID0gaWQuc3Vic3RyKDEpO1xuICAgIGEudG9TdHJpbmcoKTtcblxuXG4gICAgbWF4ID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCAtIGQuT3Blbik7XG4gICAgbWluID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuSGlnaCAtIGQuT3Blbik7XG5cbiAgICBtYXggPSBtYXgudG9GaXhlZCgwKTtcbiAgICBtaW4gPSBtaW4udG9GaXhlZCgwKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5pbm5lckhUTUwgPSBgIDxwPiBNYXg6ICR7bWF4fSBBdmVyYWdlOiAkeygobWluICsgbWF4KSAvIDIpfSA8L3A+YDtcblxuICAgIGNvbnN0IHNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgIC5kb21haW4oWzAsIG1heCAtIG1pbl0pIC8vIGJvdW5kYXJpZXMgZm9yIGNoYXJ0XG4gICAgICAucmFuZ2UoWzAsIGhlaWdodCAtIDEwXSk7IC8vIGJvdW5kYXJpZXMgZm9yIGRhdGFcblxuICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChpZClcbiAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXG4gICAgICAuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBiZ2NvbG9yKTtcblxuICAgIC8vIEJhcnNcbiAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncmVjdCcpIC8vIGFwcGVuZCBzdmcgdG8gZGl2XG4gICAgICAuYXR0cigneCcsIChkLCBpKSA9PiB3aWR0aCArIDAgLSB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoIC0gKGkgKiAoKHdpZHRoIC0gNTApIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiBoZWlnaHQgLSBzY2FsZShkLkhpZ2ggLSBkLkxvdykpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBzY2FsZShkLkhpZ2ggLSBkLkxvdykpXG4gICAgICAuYXR0cignd2lkdGgnLCBkID0+IHdpZHRoIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpXG4gICAgICAuc3R5bGUoJ2ZpbGwnLCBjaGFydENvbG9yKVxuICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJylcbiAgICAgIC50ZXh0KGQgPT4gYERhdGU6ICR7ZC5EYXRlfSBWYXJpYWJpbGl0eTogJHtwYXJzZUludChkLkhpZ2ggLSBkLkxvdyl9IEV1cm9gKTtcblxuICAgIC8vIFByaWNlXG4gICAgc3ZnLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLnRleHQoKGQsIGkpID0+IHBhcnNlSW50KG1pbiArICgobWF4IC0gbWluKSAqIChpICogMC4xKSkpKVxuICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAuYXR0cigneCcsICgpID0+IDIwKVxuICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gaGVpZ2h0ICsgcGFyc2VJbnQoZm9udFNpemUpIC0gKGkgKiAoaGVpZ2h0IC8gMTApKSlcbiAgICAgIC5hdHRyKCdmb250LWZhbWlseScsIGZvbnQpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpO1xuXG4gICAgLy8gbGFiZWxzXG4gICAgc3ZnLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAudGV4dChkID0+IChkLkhpZ2ggLSBkLk9wZW4pLnRvRml4ZWQoMCkpXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC5hdHRyKCd4JywgKGQsIGkpID0+IHdpZHRoIC0gKGkgKiAod2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aCkpKVxuICAgICAgLmF0dHIoJ3knLCBkID0+IGhlaWdodCAtIHNjYWxlKGQuT3BlbikpXG4gICAgICAuYXR0cignZm9udC1mYW1pbHknLCBmb250KVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTtcbiAgfVxufVxuIl19
