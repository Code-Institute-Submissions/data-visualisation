"use strict";var width=300,height=200,chartColor="rgb(66, 170, 143)",font="Didact Gothic",fontSize="10",bgcolor="white",startDate="&start_date=2017-03-06",bitcoinPriceData="https://www.quandl.com/api/v3/datasets/GDAX/BTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+startDate,etherPriceData="https://www.quandl.com/api/v3/datasets/GDAX/ETH_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+startDate,litecoinPriceData="https://www.quandl.com/api/v3/datasets/GDAX/LTC_EUR.csv?api_key=fzanZC3297Jsid-E8vCF"+startDate;
"use strict";
"use strict";drawPriceChart(etherPriceData,"#ether",width,height),drawPriceChart(bitcoinPriceData,"#bitcoin",width,height),drawVarPriceChart(etherPriceData,"#ether-var",width,height),drawVarPriceChart(bitcoinPriceData,"#bitcoin-var",width,height),drawPriceChart(litecoinPriceData,"#litecoin",width,height),drawVarPriceChart(litecoinPriceData,"#litecoin-var",width,height);
"use strict";function drawPriceChart(t,n,e,r){queue().defer(d3.csv,t).await(function(t,a){t&&console.log(t);var c,o,i=n.substr(1);i.toString(),document.getElementById(i).innerHTML="<p>".concat(a[0].Open," Euro </p>"),c=d3.max(a,function(t){return+t.Open}),o=d3.min(a,function(t){return+t.Open});var u=d3.scale.linear().domain([0,c-o]).range([0,r-10]),l=d3.select(n).append("svg").attr("width",e).attr("height",r).style("background-color",bgcolor);l.selectAll("rect").data(a).enter().append("rect").attr("x",function(t,n){return e-e/a.length-n*((e-50)/a.length)}).attr("y",function(t){return r-u(t.Open-o)}).attr("height",function(t){return u(t.Open-o)}).attr("width",function(t){return e/a.length}).style("fill",chartColor).append("svg:title").text(function(t){return"Date: ".concat(t.Date," Price: ").concat(t.Open)}),l.selectAll("text").data(a).enter().append("text").text(function(t,n){return parseInt(o+.1*n*(c-o))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,n){return r+parseInt(fontSize)-n*(r/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black")})}
"use strict";function drawVarPriceChart(t,n,e,r){queue().defer(d3.csv,t).await(function(t,a){var o,i,c,u=n.substr(1);u.toString(),o=d3.max(a,function(t){return+t.High-t.Low}),i=d3.min(a,function(t){return+t.High-t.Low}),c=(c=d3.mean(a,function(t){return+t.High-t.Low})).toFixed(0),o=o.toFixed(0),document.getElementById(u).innerHTML=" <p> Max: ".concat(o," Average: ").concat(c," Euro </p>"),document.getElementById(u).innerHTML=" <p> Max: ".concat(o," Average: ").concat(c," Euro </p>"),console.log(o);var l=d3.scale.linear().domain([0,o-i]).range([0,r-10]),d=d3.select(n).append("svg").attr("width",e).attr("height",r).style("background-color",bgcolor);d.selectAll("rect").data(a).enter().append("rect").attr("x",function(t,n){return e+0-e/a.length-n*((e-50)/a.length)}).attr("y",function(t){return r-l(t.High-t.Low)}).attr("height",function(t){return l(t.High-t.Low)}).attr("width",function(t){return e/a.length}).style("fill",function(t){return t.High-t.Low>c?"orange":chartColor}).append("svg:title").text(function(t){return"Date: ".concat(t.Date," Variability: ").concat(parseInt(t.High-t.Low)," Euro")}),d.selectAll("text").data(a).enter().append("text").text(function(t,n){return parseInt(i+.1*n*(o-i))}).attr("text-anchor","middle").attr("x",function(){return 20}).attr("y",function(t,n){return r+parseInt(fontSize)-n*(r/10)}).attr("font-family",font).attr("font-size",fontSize).attr("fill","black")})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJ0LXNldHRpbmdzLWFuZC1kYXRhLmpzIiwiY3Jvc3NmaWx0ZXIuanMiLCJkcmF3LWNoYXJ0LmpzIiwiZnVuY3Rpb25zL2RyYXdQcmljZUNoYXJ0LmpzIiwiZnVuY3Rpb25zL2RyYXdWYXJQcmljZUNoYXJ0LmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwiY2hhcnRDb2xvciIsImZvbnQiLCJiZ2NvbG9yIiwiYml0Y29pblByaWNlRGF0YSIsInN0YXJ0RGF0ZSIsImV0aGVyUHJpY2VEYXRhIiwibGl0ZWNvaW5QcmljZURhdGEiLCJkcmF3UHJpY2VDaGFydCIsImRyYXdWYXJQcmljZUNoYXJ0IiwiZGF0YSIsImlkIiwicXVldWUiLCJkZWZlciIsImNzdiIsImF3YWl0IiwiZXJyb3IiLCJ0cmFuc2FjdGlvbnNEYXRhIiwiY29uc29sZSIsImxvZyIsImRvY3VtZW50IiwibWluIiwiYSIsInN1YnN0ciIsInRvU3RyaW5nIiwiaW5uZXJIVE1MIiwiY29uY2F0IiwiT3BlbiIsIm1heCIsImQzIiwiZCIsImRvbWFpbiIsInJhbmdlIiwic3ZnIiwiYXBwZW5kIiwiYXR0ciIsInNlbGVjdCIsInN0eWxlIiwic2VsZWN0QWxsIiwic2NhbGUiLCJpIiwibGVuZ3RoIiwiRGF0ZSIsInRleHQiLCJlbnRlciIsInBhcnNlSW50IiwiZm9udFNpemUiLCJhdmciLCJIaWdoIiwiTG93IiwibWVhbiIsInRvRml4ZWQiLCJnZXRFbGVtZW50QnlJZCIsImxpbmVhciJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBQUEsTUFBQSxJQUNBQyxPQUFBLElBQ01ELFdBQU4sb0JBQ01DLEtBQVMsZ0JBQ1RDLFNBQVcsS0FDWEMsUUFBTyxRQUVQQyxVQUFRLHlCQUtSQyxpQkFBaUIsdUZBQUFDLFVBQ2pCQyxlQUFlLHVGQUFBRCxVQUNmRSxrQkFBa0IsdUZBQUFGO0FDZHhCO2FDQ0FHLGVBQUFGLGVBQUEsU0FBQVAsTUFBQUMsUUFFQVEsZUFBZUYsaUJBQWUsV0FBU1AsTUFBTUMsUUFH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bUIsR0FBQVosRUFBQVAsTUFDQWMsS0FBQSxjQUFBLFVBQ0FBLEtBQUEsSUFBQSxXQUFBLE9BQUEsS0FDQUEsS0FBQSxJQUFBLFNBQUFMLEVBQUFVLEdBQUEsT0FBQXhDLEVBQUE2QyxTQUFBQyxVQUFBTixHQUFBeEMsRUFBQSxNQUNBbUMsS0FBQSxjQUFBakMsTUFDQWlDLEtBQUEsWUFBQVcsVUFDQVgsS0FBQSxPQUFBIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGphdmFzY3JpcHQgZmlsZSBpcyBsb2FkZWQgZmlyc3QuXG4vLyBDaGFydHMgY29uZmlnXG5jb25zdCB3aWR0aCA9IDMwMDtcbmNvbnN0IGhlaWdodCA9IDIwMDtcbmNvbnN0IGNoYXJ0Q29sb3I9J3JnYig2NiwgMTcwLCAxNDMpJztcbmNvbnN0IGZvbnQgPSAnRGlkYWN0IEdvdGhpYyc7XG5jb25zdCBmb250U2l6ZSA9ICcxMCc7XG5jb25zdCBiZ2NvbG9yPSd3aGl0ZSc7XG5cbmxldCBzdGFydERhdGU9JyZzdGFydF9kYXRlPTIwMTctMDMtMDYnXG5cbi8vIERhdGFcbmNvbnN0IGJpdGNvaW5QcmljZURhdGE9J2h0dHBzOi8vd3d3LnF1YW5kbC5jb20vYXBpL3YzL2RhdGFzZXRzL0dEQVgvQlRDX0VVUi5jc3Y/YXBpX2tleT1memFuWkMzMjk3SnNpZC1FOHZDRicrc3RhcnREYXRlO1xuY29uc3QgZXRoZXJQcmljZURhdGE9J2h0dHBzOi8vd3d3LnF1YW5kbC5jb20vYXBpL3YzL2RhdGFzZXRzL0dEQVgvRVRIX0VVUi5jc3Y/YXBpX2tleT1memFuWkMzMjk3SnNpZC1FOHZDRicrc3RhcnREYXRlO1xuY29uc3QgbGl0ZWNvaW5QcmljZURhdGE9J2h0dHBzOi8vd3d3LnF1YW5kbC5jb20vYXBpL3YzL2RhdGFzZXRzL0dEQVgvTFRDX0VVUi5jc3Y/YXBpX2tleT1memFuWkMzMjk3SnNpZC1FOHZDRicrc3RhcnREYXRlO1xuIiwiLy8gLy8gRVRIL0VVUlxuLy8gLy8gaHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvR0RBWC9FVEhfRVVSLmNzdj9hcGlfa2V5PWZ6YW5aQzMyOTdKc2lkLUU4dkNGJnN0YXJ0X2RhdGU9MjAxNy0wNi0xMlxuXG4vLyAvLyBmb3IgdGhpcyBzY3JpcHQgc2hvdWxkIGJlIGluIGZvbGxvd2luZyBleGFtcGxlXG4vLyAvLyB2YXIgdHJhbnNhY3Rpb25zRGF0YSA9IFtcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiVG9tXCIsIFwic3RvcmVcIjogXCJBY21lXCIsIFwic3RhdGVcIjogXCJOWVwiLCBcInNwZW5kXCI6IDEwMH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIlRvbVwiLCBcInN0b3JlXCI6IFwiQmlnIENvLlwiLCBcInN0YXRlXCI6IFwiTllcIiwgXCJzcGVuZFwiOiAyMDB9LFxuLy8gLy8gICAgIHtcIm5hbWVcIjogXCJCb2JcIiwgXCJzdG9yZVwiOiBcIkFjbWVcIiwgXCJzdGF0ZVwiOiBcIkZMXCIsIFwic3BlbmRcIjogMTUwfSxcbi8vIC8vICAgICB7XCJuYW1lXCI6IFwiQm9iXCIsIFwic3RvcmVcIjogXCJBY21lXCIsIFwic3RhdGVcIjogXCJOWVwiLCBcInNwZW5kXCI6IDIwMH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkJvYlwiLCBcInN0b3JlXCI6IFwiQmlnIENvLlwiLCBcInN0YXRlXCI6IFwiRkxcIiwgXCJzcGVuZFwiOiA1MH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkJvYlwiLCBcInN0b3JlXCI6IFwiQmlnIENvLlwiLCBcInN0YXRlXCI6IFwiTllcIiwgXCJzcGVuZFwiOiA3NX0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkFsaWNlXCIsIFwic3RvcmVcIjogXCJBY21lXCIsIFwic3RhdGVcIjogXCJGTFwiLCBcInNwZW5kXCI6IDIwMH0sXG4vLyAvLyAgICAge1wibmFtZVwiOiBcIkFsaWNlXCIsIFwic3RvcmVcIjogXCJCaWcgQ28uXCIsIFwic3RhdGVcIjogXCJOWVwiLCBcInNwZW5kXCI6IDM1MH0sXG4vLyAvLyBdO1xuXG5cbi8vIHF1ZXVlKClcbi8vICAgICAuZGVmZXIoZDMuY3N2LCBiaXRjb2luUHJpY2VEYXRhKVxuLy8gICAgIC5hd2FpdChtYWtlR3JhcGgyKTtcblxuXG4vLyAgZnVuY3Rpb24gbWFrZUdyYXBoMihlcnJvciwgdHJhbnNhY3Rpb25zRGF0YSkge1xuXG4vLyAgICAgY29uc29sZS5sb2codHJhbnNhY3Rpb25zRGF0YSlcbi8vICAgICAgICAgdmFyIG5keCA9IGNyb3NzZmlsdGVyKHRyYW5zYWN0aW9uc0RhdGEpO1xuLy8gICAgICAgICB2YXIgcGFyc2VEYXRlID0gZDMudGltZS5mb3JtYXQoXCIlZC8lbS8lWVwiKS5wYXJzZTtcbi8vICAgICAgICAgdHJhbnNhY3Rpb25zRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpe1xuLy8gICAgICAgICAgICAgZC5kYXRlID0gcGFyc2VEYXRlKGQuZGF0ZSk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgICB2YXIgZGF0ZV9kaW0gPSBuZHguZGltZW5zaW9uKGRjLnBsdWNrKCdkYXRlJykpO1xuLy8gICAgICAgICB2YXIgdG90YWxfc3BlbmRfcGVyX2RhdGUgPSBkYXRlX2RpbS5ncm91cCgpLnJlZHVjZVN1bShkYy5wbHVjaygnc3BlbmQnKSk7XG4vLyAgICAgICAgIHZhciBtaW5EYXRlID0gZGF0ZV9kaW0uYm90dG9tKDEpWzBdLmRhdGU7XG4vLyAgICAgICAgIHZhciBtYXhEYXRlID0gZGF0ZV9kaW0udG9wKDEpWzBdLmRhdGU7XG4vLyAgICAgICAgIGRjLmxpbmVDaGFydChcIiNldGhlclwiKVxuLy8gICAgICAgICAgICAgLndpZHRoKDEwMDApXG4vLyAgICAgICAgICAgICAuaGVpZ2h0KDMwMClcbi8vICAgICAgICAgICAgIC5tYXJnaW5zKHt0b3A6IDEwLCByaWdodDogNTAsIGJvdHRvbTogMzAsIGxlZnQ6IDUwfSlcbi8vICAgICAgICAgICAgIC5kaW1lbnNpb24oZGF0ZV9kaW0pXG4vLyAgICAgICAgICAgICAuZ3JvdXAodG90YWxfc3BlbmRfcGVyX2RhdGUpXG4vLyAgICAgICAgICAgICAudHJhbnNpdGlvbkR1cmF0aW9uKDUwMClcbi8vICAgICAgICAgICAgIC54KGQzLnRpbWUuc2NhbGUoKS5kb21haW4oW21pbkRhdGUsbWF4RGF0ZV0pKVxuLy8gICAgICAgICAgICAgLnhBeGlzTGFiZWwoXCJNb250aFwiKVxuLy8gICAgICAgICAgICAgLnlBeGlzKCkudGlja3MoNCk7XG4vLyAgICAgICAgIGRjLnJlbmRlckFsbCgpO1xuLy8gICAgIH0iLCIvLyBUaGlzIGphdmFzY3JpcHQgZmlsZSBpcyBsYXN0LlxuLy8gRHJhdyBjaGFydHMgYXRcblxuZHJhd1ByaWNlQ2hhcnQoZXRoZXJQcmljZURhdGEsJyNldGhlcicsd2lkdGgsaGVpZ2h0KTtcbmRyYXdQcmljZUNoYXJ0KGJpdGNvaW5QcmljZURhdGEsJyNiaXRjb2luJyx3aWR0aCxoZWlnaHQpO1xuXG5kcmF3VmFyUHJpY2VDaGFydChldGhlclByaWNlRGF0YSwnI2V0aGVyLXZhcicsd2lkdGgsaGVpZ2h0KTtcbmRyYXdWYXJQcmljZUNoYXJ0KGJpdGNvaW5QcmljZURhdGEsJyNiaXRjb2luLXZhcicsd2lkdGgsaGVpZ2h0KTtcblxuZHJhd1ByaWNlQ2hhcnQobGl0ZWNvaW5QcmljZURhdGEsJyNsaXRlY29pbicsd2lkdGgsaGVpZ2h0KTtcbmRyYXdWYXJQcmljZUNoYXJ0KGxpdGVjb2luUHJpY2VEYXRhLCcjbGl0ZWNvaW4tdmFyJyx3aWR0aCxoZWlnaHQpO1xuXG4iLCIvLyBQcmljZVxuXG5mdW5jdGlvbiBkcmF3UHJpY2VDaGFydChkYXRhLCBpZCwgd2lkdGgsIGhlaWdodCkge1xuICBxdWV1ZSgpXG4gICAgLmRlZmVyKGQzLmNzdiwgZGF0YSlcbiAgICAuYXdhaXQobWFrZUdyYXBocyk7XG5cbiAgZnVuY3Rpb24gbWFrZUdyYXBocyhlcnJvciwgdHJhbnNhY3Rpb25zRGF0YSkge1xuICAgIGlmKGVycm9yKSB7IGNvbnNvbGUubG9nKGVycm9yKTsgfVxuICAgIGNvbnN0IGEgPSBpZC5zdWJzdHIoMSk7XG4gICAgYS50b1N0cmluZygpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpLmlubmVySFRNTCA9IGA8cD4ke3RyYW5zYWN0aW9uc0RhdGFbMF0uT3Blbn0gRXVybyA8L3A+YDtcblxuICAgIGxldCBtYXg7IGxldFxuICAgICAgbWluO1xuXG4gICAgbWF4ID0gZDMubWF4KHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuT3Blbik7XG4gICAgbWluID0gZDMubWluKHRyYW5zYWN0aW9uc0RhdGEsIGQgPT4gK2QuT3Blbik7XG5cbiAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAuZG9tYWluKFswLCBtYXggLSBtaW5dKSAvLyBib3VuZGFyaWVzIGZvciBjaGFydFxuICAgICAgLnJhbmdlKFswLCBoZWlnaHQgLSAxMF0pOyAvLyBib3VuZGFyaWVzIGZvciBkYXRhXG5cbiAgICBjb25zdCBzdmcgPSBkMy5zZWxlY3QoaWQpXG4gICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxuICAgICAgLnN0eWxlKCdiYWNrZ3JvdW5kLWNvbG9yJywgYmdjb2xvcik7XG5cbiAgICAvLyBCYXJzXG4gICAgc3ZnLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKSAvLyBhcHBlbmQgc3ZnIHRvIGRpdlxuICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gd2lkdGggLSB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoIC0gKGkgKiAoKHdpZHRoIC0gNTApIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiBoZWlnaHQgLSBzY2FsZShkLk9wZW4gLSBtaW4pKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGQgPT4gc2NhbGUoZC5PcGVuIC0gbWluKSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGQgPT4gd2lkdGggLyB0cmFuc2FjdGlvbnNEYXRhLmxlbmd0aClcbiAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Q29sb3IpXG4gICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKVxuICAgICAgLnRleHQoZCA9PiBgRGF0ZTogJHtkLkRhdGV9IFByaWNlOiAke2QuT3Blbn1gKTtcblxuICAgIC8vIFByaWNlXG4gICAgc3ZnLnNlbGVjdEFsbCgndGV4dCcpXG4gICAgICAuZGF0YSh0cmFuc2FjdGlvbnNEYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgLnRleHQoKGQsIGkpID0+IHBhcnNlSW50KG1pbiArICgobWF4IC0gbWluKSAqIChpICogMC4xKSkpKVxuICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAuYXR0cigneCcsICgpID0+IDIwKVxuICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gaGVpZ2h0ICsgcGFyc2VJbnQoZm9udFNpemUpIC0gKGkgKiAoaGVpZ2h0IC8gMTApKSlcbiAgICAgIC5hdHRyKCdmb250LWZhbWlseScsIGZvbnQpXG4gICAgICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpO1xuICB9XG59XG4iLCIvLyBCaXRjb2luIHZhcmlhYmlsaXR5XG5cbmZ1bmN0aW9uIGRyYXdWYXJQcmljZUNoYXJ0KGRhdGEsIGlkLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIHF1ZXVlKClcbiAgICAuZGVmZXIoZDMuY3N2LCBkYXRhKVxuICAgIC5hd2FpdChtYWtlVmFyR3JhcGgpO1xuXG4gIGZ1bmN0aW9uIG1ha2VWYXJHcmFwaChlcnJvciwgdHJhbnNhY3Rpb25zRGF0YSkge1xuICAgIGxldCBtYXg7IGxldCBtaW47IGxldCBhdmc7XG5cblxuICAgIGNvbnN0IGEgPSBpZC5zdWJzdHIoMSk7XG4gICAgYS50b1N0cmluZygpO1xuXG5cbiAgICBtYXggPSBkMy5tYXgodHJhbnNhY3Rpb25zRGF0YSwgZCA9PiArZC5IaWdoIC0gZC5Mb3cpO1xuICAgIG1pbiA9IGQzLm1pbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2ggLSBkLkxvdyk7XG4gICAgYXZnID0gZDMubWVhbih0cmFuc2FjdGlvbnNEYXRhLCBkID0+ICtkLkhpZ2ggLSBkLkxvdyk7XG5cblxuICAgIGF2ZyA9IGF2Zy50b0ZpeGVkKDApO1xuICAgIG1heCA9IG1heC50b0ZpeGVkKDApO1xuICAgIC8vbWluID0gbWluLnRvRml4ZWQoMCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYCA8cD4gTWF4OiAke21heH0gQXZlcmFnZTogJHthdmd9IEV1cm8gPC9wPmA7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuaW5uZXJIVE1MID0gYCA8cD4gTWF4OiAke21heH0gQXZlcmFnZTogJHthdmd9IEV1cm8gPC9wPmA7XG4gICAgXG4gICAgY29uc29sZS5sb2cobWF4KVxuICAgIGNvbnN0IHNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgIC5kb21haW4oWzAsIG1heCAtIG1pbl0pIC8vIGJvdW5kYXJpZXMgZm9yIGNoYXJ0XG4gICAgICAucmFuZ2UoWzAsIGhlaWdodCAtIDEwXSk7IC8vIGJvdW5kYXJpZXMgZm9yIGRhdGFcblxuICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChpZClcbiAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXG4gICAgICAuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBiZ2NvbG9yKTtcblxuICAgIC8vIEJhcnNcbiAgICBzdmcuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgIC5kYXRhKHRyYW5zYWN0aW9uc0RhdGEpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncmVjdCcpIC8vIGFwcGVuZCBzdmcgdG8gZGl2XG4gICAgICAuYXR0cigneCcsIChkLCBpKSA9PiB3aWR0aCArIDAgLSB3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoIC0gKGkgKiAoKHdpZHRoIC0gNTApIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpKSlcbiAgICAgIC5hdHRyKCd5JywgZCA9PiBoZWlnaHQgLSBzY2FsZShkLkhpZ2ggLSBkLkxvdykpXG4gICAgICAuYXR0cignaGVpZ2h0JywgZCA9PiBzY2FsZShkLkhpZ2ggLSBkLkxvdykpXG4gICAgICAuYXR0cignd2lkdGgnLCBkID0+IHdpZHRoIC8gdHJhbnNhY3Rpb25zRGF0YS5sZW5ndGgpXG4gICAgICAvLy5zdHlsZSgnZmlsbCcsIGNoYXJ0Q29sb3IpXG4gICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgaWYgKGQuSGlnaC1kLkxvdyA+IGF2ZykgeyAgIC8vVGhyZXNob2xkIG9mIDE1XG4gICAgICAgICAgICByZXR1cm4gXCJvcmFuZ2VcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFydENvbG9yO1xuICAgICAgICB9XG4gICAgfSlcbiAgICBcbiAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpXG4gICAgICAudGV4dChkID0+IGBEYXRlOiAke2QuRGF0ZX0gVmFyaWFiaWxpdHk6ICR7cGFyc2VJbnQoZC5IaWdoIC0gZC5Mb3cpfSBFdXJvYCk7XG5cbiAgICAvLyBQcmljZVxuICAgIHN2Zy5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC50ZXh0KChkLCBpKSA9PiBwYXJzZUludChtaW4gKyAoKG1heCAtIG1pbikgKiAoaSAqIDAuMSkpKSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLmF0dHIoJ3gnLCAoKSA9PiAyMClcbiAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IGhlaWdodCArIHBhcnNlSW50KGZvbnRTaXplKSAtIChpICogKGhlaWdodCAvIDEwKSkpXG4gICAgICAuYXR0cignZm9udC1mYW1pbHknLCBmb250KVxuICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTtcblxuICBcbiAgICAvLyBzdmcuc2VsZWN0QWxsKCdjaXJjbGUnKVxuICAgIC8vICAgLmRhdGEodHJhbnNhY3Rpb25zRGF0YSlcbiAgICAvLyAgIC5lbnRlcigpXG4gICAgLy8gICAuYXBwZW5kKCd0ZXh0JylcbiAgICAvLyAgIC50ZXh0KGQgPT4gKGQuSGlnaCAtIGQuT3BlbikudG9GaXhlZCgwKSlcbiAgICAvLyAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgIC8vICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gd2lkdGggLSAoaSAqICh3aWR0aCAvIHRyYW5zYWN0aW9uc0RhdGEubGVuZ3RoKSkpXG4gICAgLy8gICAuYXR0cigneScsIGQgPT4gaGVpZ2h0IC0gc2NhbGUoZC5PcGVuKSlcbiAgICAvLyAgIC5hdHRyKCdmb250LWZhbWlseScsIGZvbnQpXG4gICAgLy8gICAuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpXG4gICAgLy8gICAuYXR0cignZmlsbCcsICdibGFjaycpO1xuICB9XG59XG4iXX0=
